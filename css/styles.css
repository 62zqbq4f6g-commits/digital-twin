/* ==========================================================================
   Inscript Design System v2.0
   Based on SuperDesign Guidelines — SoHo Editorial Aesthetic
   ========================================================================== */

/* ==========================================================================
   CSS Variables (Design Tokens) — STRICT from Design System
   ========================================================================== */

:root {
  /* -------------------------------------------------------------------------
     Colors — EXACT from Design System (STRICT)
     ------------------------------------------------------------------------- */

  /* Primary */
  --primary-bg: #FFFFFF;
  --paper-bg: #FAFAFA;
  --text-primary: #1A1A1A;
  --text-secondary: #6B6B6B;

  /* Silver Scale (Accents) */
  --silver-100: #F5F5F5;
  --silver-200: #E5E5E5;
  --silver-300: #D4D4D4;

  /* Black (buttons only) */
  --black: #000000;
  --black-hover: #1A1A1A;

  /* Legacy aliases for compatibility */
  --color-black: #000000;
  --color-white: #FFFFFF;
  --color-gray-50: #FAFAFA;
  --color-gray-100: #F5F5F5;
  --color-gray-200: #E5E5E5;
  --color-gray-300: #D4D4D4;
  --color-gray-400: #A3A3A3;
  --color-gray-500: #6B6B6B;
  --color-gray-600: #525252;
  --color-gray-700: #404040;
  --color-gray-900: #1A1A1A;

  /* -------------------------------------------------------------------------
     Typography — Inter + Cormorant Garamond ONLY
     ------------------------------------------------------------------------- */

  /* Font Families */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-serif: 'Cormorant Garamond', Georgia, serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', monospace;

  /* Editorial alias */
  --font-editorial: var(--font-serif);

  /* Type Scale — from Design System */
  --text-3xl: 40px;
  --text-2xl: 32px;
  --text-xl: 24px;
  --text-lg: 18px;
  --text-base: 15px;
  --text-sm: 13px;
  --text-xs: 11px;

  /* Legacy aliases */
  --text-display: 2.5rem;
  --text-title: 2rem;
  --text-headline: 1.75rem;
  --text-subhead: 1.125rem;
  --text-heading: 1.25rem;
  --text-body: 1rem;
  --text-caption: 0.8125rem;
  --text-micro: 0.6875rem;

  /* Font Weights — 400, 500, 600 only */
  --weight-regular: 400;
  --weight-medium: 500;
  --weight-semibold: 600;

  /* Legacy aliases */
  --weight-light: 400;
  --weight-normal: 400;
  --weight-bold: 600;

  /* Letter Spacing */
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.05em;
  --tracking-widest: 0.1em;
  --tracking-ultra: 0.2em;

  /* -------------------------------------------------------------------------
     Spacing — 4px base units
     ------------------------------------------------------------------------- */

  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;

  /* Legacy aliases */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;
  --space-3xl: 64px;

  /* -------------------------------------------------------------------------
     Borders & Radius
     ------------------------------------------------------------------------- */

  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  --border-thin: 1px solid var(--silver-200);
  --border-medium: 1px solid var(--silver-300);
  --border-card: 1px solid rgba(0, 0, 0, 0.06);

  /* -------------------------------------------------------------------------
     Shadows — STRICT: max 0 2px 8px rgba(0,0,0,0.04)
     ------------------------------------------------------------------------- */

  --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-card-hover: 0 4px 12px rgba(0, 0, 0, 0.06);

  /* Legacy aliases */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.06);

  /* -------------------------------------------------------------------------
     Transitions — STRICT: 200ms ease-out
     ------------------------------------------------------------------------- */

  --transition: 200ms ease-out;
  --transition-fast: 200ms ease-out;
  --transition-normal: 200ms ease-out;
  --transition-slow: 200ms ease-out;
}

/* ==========================================================================
   Reset & Base Styles
   ========================================================================== */

*, *::before, *::after {
  box-sizing: border-box;
}

/* ═══════════════════════════════════════════
   SCROLLING FIX - Targeted approach
   Allow normal scrolling everywhere except Actions bounce
   ═══════════════════════════════════════════ */

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  height: 100%;
  overflow-x: hidden;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-normal);
  line-height: 1.5;
  color: var(--color-black);
  background-color: var(--color-white);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100%;
  overflow-x: hidden;
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

.hidden {
  display: none !important;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ==========================================================================
   App Shell
   ========================================================================== */

#app {
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

/* ==========================================================================
   Header
   ========================================================================== */

.header {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;
  padding: 0 var(--space-md);
  background-color: var(--color-white);
  border-bottom: var(--border-thin);
}

/* Header buttons container */
.header-buttons {
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Phase 4C: Header settings and lock buttons */
.header-settings-btn,
.header-lock-btn {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 50%;
  color: var(--color-gray-400);
  cursor: pointer;
  transition: var(--transition-fast);
}

.header-settings-btn:hover,
.header-lock-btn:hover {
  color: var(--color-black);
  background: var(--color-gray-50);
}

.header-settings-btn span,
.header-lock-btn span {
  font-size: 1.25rem;
}

.header-title {
  margin: 0;
  font-size: var(--text-heading);
  font-weight: var(--weight-semibold);
  letter-spacing: var(--tracking-tight);
  color: var(--color-black);
}

/* Brand logo - elegant minimalist styling */
.brand-logo {
  font-family: var(--font-sans);
  font-weight: 300;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

/* ==========================================================================
   Main Content
   ========================================================================== */

.main {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* ==========================================================================
   Screens
   ========================================================================== */

/* All screens - normal scrolling */
.screen {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  padding: var(--space-md);
  padding-bottom: 100px; /* Space for fixed nav */
  background-color: var(--color-white);
}

/* Notes tab - scrollable */
#screen-notes .notes-list,
.notes-list {
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Twin tab - scrollable */
#screen-twin,
#screen-twin .twin-content {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Note detail - scrollable */
#screen-note-detail,
#screen-note-detail .note-detail-content {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Settings - scrollable */
#screen-settings,
#screen-settings .settings-content {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* ═══════════════════════════════════════════
   ACTIONS TAB ONLY - Prevent bounce
   ═══════════════════════════════════════════ */

/* Actions screen structure */
#screen-actions {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden; /* Only on actions screen container */
}

/* Actions header - fixed */
#screen-actions .screen-header,
#screen-actions header {
  flex-shrink: 0;
}

/* Actions tabs - fixed */
#screen-actions .actions-tabs,
.actions-tabs {
  flex-shrink: 0;
}

/* Actions list container - this scrolls */
#screen-actions .screen-content,
#screen-actions .actions-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior-y: contain; /* Prevents rubber-band ONLY here */
  -webkit-overflow-scrolling: touch;
}

#actions-list,
.actions-list {
  flex: 1;
  overflow-y: auto;
  overscroll-behavior-y: contain;
  -webkit-overflow-scrolling: touch;
  padding-bottom: env(safe-area-inset-bottom, 20px);
}

/* ==========================================================================
   Bottom Navigation — Inscript Design System v2.0
   ========================================================================== */

.nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-around;
  height: 80px;
  padding-bottom: env(safe-area-inset-bottom, 0);
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-top: 1px solid var(--silver-200);
}

.nav-tab {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  flex: 1;
  height: 100%;
  padding: var(--space-sm);
  background: none;
  border: none;
  cursor: pointer;
  transition: color var(--transition);
  -webkit-tap-highlight-color: transparent;
}

.nav-tab:active {
  background-color: var(--silver-100);
}

.nav-icon {
  font-size: 20px;
  color: var(--color-gray-400);
  transition: color var(--transition);
}

.nav-label {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-gray-400);
  transition: color var(--transition);
}

/* Active state */
.nav-tab.active .nav-icon,
.nav-tab.active .nav-label {
  color: var(--black);
}

.nav-tab:hover .nav-icon,
.nav-tab:hover .nav-label {
  color: var(--black);
}

/* Phase 15.1: 3-tab navigation - Design System */
.nav-three-tabs {
  justify-content: space-around;
  height: 80px;
  max-width: 512px;
  margin: 0 auto;
  left: 0;
  right: 0;
}

.nav-three-tabs .nav-tab {
  flex-direction: column;
  gap: 4px;
}

.nav-three-tabs .nav-label {
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.nav-three-tabs .nav-tab.active .nav-label {
  font-weight: 600;
  color: var(--black);
}

/* Phase 13B: 4-tab navigation for MIRROR */
.nav-four-tabs {
  justify-content: stretch;
  height: 56px;
}

.nav-four-tabs .nav-tab {
  flex-direction: row;
  gap: 0;
  padding: 0 8px;
}

.nav-four-tabs .nav-label {
  font-size: 0.5625rem; /* 9px - slightly smaller for 4 tabs */
  font-weight: 500;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.nav-four-tabs .nav-tab.active .nav-label {
  font-weight: 600;
}

/* ==========================================================================
   Toast Notification
   ========================================================================== */

.toast {
  position: fixed;
  bottom: calc(80px + var(--space-lg));
  left: 50%;
  transform: translateX(-50%);
  padding: var(--space-sm) var(--space-lg);
  /* Design guidelines: white bg, black reserved for buttons only */
  background: white;
  color: #333;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  border-radius: 4px;
  opacity: 0;
  transition: opacity var(--transition-fast);
  z-index: 200;
}

.toast.visible {
  opacity: 1;
}

/* ==========================================================================
   Capture Screen
   ========================================================================== */

#screen-capture {
  display: flex;
  flex-direction: column;
  padding-bottom: calc(80px + var(--space-md)); /* Space for fixed nav */
}

/* Phase 4C: Back button for capture screen */
.capture-back-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  margin-bottom: var(--space-md);
  background: transparent;
  border: none;
  font-family: var(--font-sans);
  font-size: var(--text-body);
  color: var(--color-gray-600);
  cursor: pointer;
  transition: var(--transition-fast);
}

.capture-back-btn:hover {
  color: var(--color-black);
}

.capture-voice-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-2xl) var(--space-md);
}

.voice-btn {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 2px solid var(--color-black);
  background-color: var(--color-white);
  cursor: pointer;
  transition: var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
}

.voice-btn:active {
  background-color: var(--color-gray-50);
}

.voice-icon {
  font-size: 2rem;
}

.voice-hint {
  margin-top: var(--space-md);
  font-size: var(--text-caption);
  color: var(--color-gray-600);
}

/* Voice button states */

/* Recording state - red with pulse ring */
.voice-btn.recording {
  background-color: #dc2626;
  border-color: #dc2626;
  position: relative;
}

.voice-btn.recording::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: rgba(220, 38, 38, 0.3);
  transform: translate(-50%, -50%);
  animation: pulse-ring 1.5s ease-in-out infinite;
  z-index: -1;
}

.voice-btn.recording .voice-icon {
  filter: invert(1);
}

/* Stop icon for voice button */
.voice-btn .stop-icon {
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 3px;
  display: none;
}

.voice-btn.recording .stop-icon {
  display: block;
}

.voice-btn.recording .mic-icon {
  display: none;
}

/* Processing state - dashed + spin */
.voice-btn.processing {
  border-style: dashed;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Disabled state */
.voice-btn.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Transcript display */
.transcript-display {
  margin-top: var(--space-md);
  padding: var(--space-sm) var(--space-md);
  font-size: var(--text-body);
  color: var(--color-black);
  text-align: center;
  max-width: 100%;
  word-wrap: break-word;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.transcript-display.visible {
  opacity: 1;
}

/* ==========================================================================
   Text Input Component
   ========================================================================== */

.capture-input-area {
  padding: var(--space-md);
  padding-bottom: var(--space-lg);
  background-color: var(--color-white);
}

.text-input-container {
  display: flex;
  align-items: flex-end;
  gap: var(--space-sm);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  padding: 12px 16px;
  background-color: #FFFFFF;
  transition: border-color var(--transition);
}

.text-input-container:focus-within {
  border-color: var(--black);
}

.text-input-container.disabled {
  opacity: 0.5;
  pointer-events: none;
  background-color: var(--color-gray-50);
}

.text-input {
  flex: 1;
  min-height: 48px;
  max-height: 150px;
  padding: var(--space-sm);
  border: none;
  background: transparent;
  font-family: var(--font-sans);
  font-size: var(--text-body);
  color: var(--color-black);
  resize: none;
  overflow-y: auto;
  line-height: 1.5;
}

.text-input:focus {
  outline: none;
}

.text-input::placeholder {
  font-style: italic;
  color: #6B6B6B;
}

.submit-btn {
  width: 40px;
  height: 40px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: var(--radius-md);
  background-color: var(--color-black);
  color: var(--color-white);
  cursor: pointer;
  transition: var(--transition-fast);
}

.submit-btn:hover {
  background-color: var(--color-gray-600);
}

.submit-btn:active {
  transform: scale(0.95);
}

.submit-btn:disabled {
  background-color: var(--color-gray-200);
  cursor: not-allowed;
}

.submit-icon {
  font-size: 1.25rem;
  font-weight: var(--weight-bold);
}

/* ==========================================================================
   Notes Screen
   ========================================================================== */

#screen-notes {
  display: flex;
  flex-direction: column;
  padding-bottom: calc(80px + var(--space-md));
}

/* Phase 4C: Notes Quick Capture Area */
.notes-capture-area {
  margin-bottom: var(--space-md);
}

.notes-capture-row {
  display: flex;
  gap: var(--space-sm);
  align-items: center;
}

.notes-voice-btn,
.notes-camera-btn {
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: 50%;
  cursor: pointer;
  transition: var(--transition-fast);
  flex-shrink: 0;
}

.notes-voice-btn:hover,
.notes-camera-btn:hover {
  background: var(--color-gray-100);
  border-color: var(--color-gray-400);
}

.notes-voice-btn:active,
.notes-camera-btn:active {
  background: var(--color-black);
  border-color: var(--color-black);
}

/* Phase 4.5.2: Submit button - black circle with arrow */
.notes-submit-btn {
  width: 44px;
  height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 1.25rem;
  flex-shrink: 0;
  margin-left: 0.25rem;
  transition: var(--transition-fast);
}

.notes-submit-btn:hover {
  opacity: 0.8;
}

.notes-submit-btn:active {
  transform: scale(0.95);
  opacity: 0.8;
}

/* Phase 4.7: Voice button normal state - explicitly no animation */
.notes-voice-btn:not(.recording) {
  animation: none !important;
  box-shadow: none;
}

/* Voice button recording state */
.notes-voice-btn.recording {
  background: #dc2626;
  border-color: #dc2626;
  position: relative;
}

.notes-voice-btn.recording::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: rgba(220, 38, 38, 0.3);
  transform: translate(-50%, -50%);
  animation: pulse-ring 1.5s ease-in-out infinite;
}

.notes-voice-btn.recording span {
  filter: invert(1);
}

/* Stop icon for recording */
.notes-voice-btn .stop-icon {
  width: 12px;
  height: 12px;
  background: white;
  border-radius: 2px;
  display: none;
}

.notes-voice-btn.recording .stop-icon {
  display: block;
}

.notes-voice-btn.recording .mic-icon {
  display: none;
}

@keyframes pulse-ring {
  0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
  100% { transform: translate(-50%, -50%) scale(1.8); opacity: 0; }
}

.notes-voice-btn span,
.notes-camera-btn span {
  font-size: 1.125rem;
}

.notes-quick-input {
  flex: 1;
  padding: var(--space-sm) var(--space-md);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  background: var(--color-gray-50);
  color: var(--color-black);
  transition: var(--transition-fast);
}

.notes-quick-input:focus {
  outline: none;
  border-color: var(--color-black);
  background: var(--color-white);
}

.notes-quick-input::placeholder {
  color: var(--color-gray-600);
}

.notes-transcript-display {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-600);
  margin-top: var(--space-sm);
  min-height: 0;
  transition: all var(--transition-fast);
}

.notes-transcript-display:not(:empty) {
  min-height: 24px;
  padding: var(--space-xs) 0;
}

/* Search Box */
.notes-search {
  margin-bottom: var(--space-md);
}

.notes-search-input {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  border: var(--border-medium);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  background-color: var(--color-gray-50);
  color: var(--color-black);
  transition: var(--transition-fast);
}

.notes-search-input:focus {
  outline: none;
  border-color: var(--color-black);
  background-color: var(--color-white);
}

.notes-search-input::placeholder {
  color: var(--color-gray-600);
}

/* Filter Tabs */
.notes-filters {
  display: flex;
  gap: var(--space-xs);
  margin-bottom: var(--space-lg);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.notes-filters::-webkit-scrollbar {
  display: none;
}

.filter-tab {
  flex-shrink: 0;
  padding: var(--space-xs) var(--space-sm);
  border: var(--border-thin);
  border-radius: var(--radius-full);
  background-color: var(--color-white);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  color: var(--color-gray-600);
  cursor: pointer;
  transition: var(--transition-fast);
  white-space: nowrap;
}

.filter-tab:hover {
  border-color: var(--color-gray-200);
}

.filter-tab.active {
  background-color: var(--color-black);
  border-color: var(--color-black);
  color: var(--color-white);
}

/* Notes List */
.notes-list {
  flex: 1;
}

/* Date Group */
.notes-date-group {
  margin-bottom: var(--space-lg);
}

.notes-date-header {
  margin: 0 0 var(--space-sm) 0;
  font-size: var(--text-micro);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-600);
}

/* Note Card - Inscript Design System v2.0 */
.note-card {
  background: var(--paper-bg);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  transition: border-color var(--transition), box-shadow var(--transition);
  cursor: pointer;
}

.note-card:hover {
  border-color: var(--black);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
}

.note-card:active {
  border-color: var(--black);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

/* Category indicator with diamond */
.note-category {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.note-category::before {
  content: '◆';
  font-size: 8px;
}

.note-category.work {
  color: #4a5568;
}

.note-category.personal {
  color: #805ad5;
}

.note-category.ideas,
.note-category.idea {
  color: #d69e2e;
}

.note-category.reflection {
  color: #319795;
}

.note-category.memory {
  color: #e53e3e;
}

/* Comment indicator in notes list */
.note-comment-indicator {
  font-size: 6px;
  color: #a0aec0;
  margin-left: 4px;
}

/* Note header */
.note-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
}

.note-card-title {
  margin: 0;
  font-weight: 600;
  font-size: 16px;
  color: #1a1a1a;
  flex: 1;
  margin-right: 12px;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.note-card-time {
  font-size: 13px;
  color: #999;
  white-space: nowrap;
  flex-shrink: 0;
}

/* Note content preview */
.note-card-preview {
  margin: 0 0 12px;
  color: #666;
  font-size: 14px;
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Reflection text */
.note-reflection {
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  color: #333;
  font-size: 15px;
  line-height: 1.5;
  padding-top: 12px;
  border-top: 1px solid #f0f0f0;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Legacy category badge (backwards compat) */
.category-badge {
  display: none;
}

/* Note Card with Thumbnail */
.note-card.has-thumbnail {
  display: grid;
  grid-template-columns: 1fr 80px;
  gap: 16px;
}

.note-card-thumbnail {
  grid-column: 2;
  grid-row: 1 / -1;
  width: 80px;
  height: 80px;
  border-radius: 8px;
  overflow: hidden;
  background: #f5f5f5;
}

.note-card-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.note-card-content {
  grid-column: 1;
  min-width: 0;
}

/* Empty State - SoHo Editorial */
.notes-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-3xl) var(--space-lg);
  text-align: center;
}

.notes-empty-icon {
  display: none; /* Hide icon for cleaner look */
}

.notes-empty-title {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 18px;
  font-style: italic;
  font-weight: 400;
  color: #6B6B6B;
  margin: 0;
}

.notes-empty-text {
  display: none; /* Simplify to just the title */
}

/* ==========================================================================
   Note Detail Screen
   ========================================================================== */

.note-detail-screen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 150;
  background-color: var(--color-white);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.note-detail-header {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-md);
  border-bottom: var(--border-thin);
  background-color: var(--color-white);
  position: sticky;
  top: 0;
  z-index: 10;
}

.note-detail-back {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: var(--border-thin);
  border-radius: var(--radius-md);
  background-color: var(--color-white);
  font-size: 1.25rem;
  cursor: pointer;
  transition: var(--transition-fast);
}

.note-detail-back:hover {
  background-color: var(--color-gray-50);
}

.note-detail-back:active {
  background-color: var(--color-gray-100);
}

/* Phase 11.3: Editorial lowercase category */
.note-detail-category {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-family: 'Inter', var(--font-sans);
  font-size: 0.75rem;
  font-weight: 400;
  text-transform: lowercase;
  letter-spacing: 0.08em;
  color: var(--color-gray-400);
}

/* Note Detail Content - Phase 4.1 Generous Spacing */
.note-detail-content {
  flex: 1;
  padding: var(--space-xl);
  padding-bottom: calc(80px + var(--space-xl));
}

/* Phase 11.3: Editorial note detail typography */
.note-detail-title {
  margin: 0;
  font-family: 'Playfair Display', Georgia, serif;
  font-size: 1.625rem;
  font-weight: 500;
  letter-spacing: -0.01em;
  color: var(--color-black);
  line-height: 1.25;
}

/* Horizontal rule after title */
.note-detail-title::after {
  content: '';
  display: block;
  width: 100%;
  height: 1px;
  background: var(--color-gray-100);
  margin-top: var(--space-lg);
}

.note-detail-timestamp {
  margin: var(--space-md) 0 var(--space-xl) 0;
  font-family: 'Inter', var(--font-sans);
  font-size: 0.8125rem;
  font-weight: 300;
  letter-spacing: 0.02em;
  color: var(--color-gray-400);
}

.note-detail-body {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-gray-900);
}

/* Markdown rendering styles */
.note-detail-body h1 {
  font-size: var(--text-heading);
  font-weight: var(--weight-bold);
  margin: var(--space-lg) 0 var(--space-md) 0;
  color: var(--color-black);
}

.note-detail-body h2 {
  font-size: var(--text-body);
  font-weight: var(--weight-semibold);
  margin: var(--space-lg) 0 var(--space-sm) 0;
  color: var(--color-black);
}

.note-detail-body h3 {
  font-size: var(--text-caption);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  margin: var(--space-md) 0 var(--space-sm) 0;
  color: var(--color-gray-600);
}

.note-detail-body p {
  margin: 0 0 var(--space-md) 0;
}

.note-detail-body ul,
.note-detail-body ol {
  margin: 0 0 var(--space-md) 0;
  padding-left: var(--space-lg);
}

.note-detail-body li {
  margin-bottom: var(--space-xs);
}

.note-detail-body strong {
  font-weight: var(--weight-semibold);
}

.note-detail-body em {
  font-style: italic;
}

.note-detail-body hr {
  border: none;
  border-top: var(--border-thin);
  margin: var(--space-lg) 0;
}

/* Action buttons */
.note-detail-actions {
  display: flex;
  gap: var(--space-sm);
  padding: var(--space-md);
  border-top: var(--border-thin);
  background-color: var(--color-white);
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 10;
}

/* Phase 11.3: Editorial lowercase buttons */
.note-detail-btn {
  flex: 1;
  padding: var(--space-sm) var(--space-md);
  border: var(--border-thin);
  border-radius: var(--radius-md);
  background-color: var(--color-white);
  font-family: 'Inter', var(--font-sans);
  font-size: 0.8125rem;
  font-weight: 400;
  letter-spacing: 0.02em;
  text-transform: lowercase;
  color: var(--color-black);
  cursor: pointer;
  transition: var(--transition-fast);
}

.note-detail-btn:hover {
  background-color: var(--color-gray-50);
}

.note-detail-btn:active {
  background-color: var(--color-gray-100);
}

.note-detail-btn-danger {
  border-color: var(--color-black);
  background-color: var(--color-black);
  color: var(--color-white);
}

.note-detail-btn-danger:hover {
  background-color: var(--color-gray-600);
}

.note-detail-btn-danger:active {
  background-color: var(--color-black);
}

/* ==========================================================================
   Dialog / Modal
   ========================================================================== */

.dialog-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 200;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-lg);
}

.dialog {
  background-color: var(--color-white);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  max-width: 320px;
  width: 100%;
  box-shadow: var(--shadow-lg);
}

.dialog-title {
  margin: 0 0 var(--space-sm) 0;
  font-size: var(--text-heading);
  font-weight: var(--weight-semibold);
  color: var(--color-black);
}

.dialog-message {
  margin: 0 0 var(--space-lg) 0;
  font-size: var(--text-body);
  color: var(--color-gray-600);
}

.dialog-actions {
  display: flex;
  gap: var(--space-sm);
}

.dialog-btn {
  flex: 1;
  padding: var(--space-sm) var(--space-md);
  border: var(--border-thin);
  border-radius: var(--radius-md);
  background-color: var(--color-white);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  color: var(--color-black);
  cursor: pointer;
  transition: var(--transition-fast);
}

.dialog-btn:hover {
  background-color: var(--color-gray-50);
}

.dialog-btn-danger {
  border-color: var(--color-black);
  background-color: var(--color-black);
  color: var(--color-white);
}

.dialog-btn-danger:hover {
  background-color: var(--color-gray-600);
}

/* ==========================================================================
   Settings Screen
   ========================================================================== */

#screen-settings {
  padding-bottom: calc(80px + var(--space-md));
}

.settings-section {
  margin-bottom: var(--space-xl);
}

/* Encryption Trust Signal */
.encryption-status {
  text-align: center;
  padding: 48px 24px;
  border-top: 1px solid #e5e5e5;
  border-bottom: 1px solid #e5e5e5;
  margin: 32px 0;
}

.encryption-statement {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-style: italic;
  font-size: 20px;
  color: #1a1a1a;
  margin: 0 0 8px 0;
}

.encryption-subtext {
  font-size: 14px;
  color: #666;
  margin: 0 0 16px 0;
}

.encryption-spec {
  font-family: 'JetBrains Mono', 'SF Mono', monospace;
  font-size: 11px;
  letter-spacing: 0.05em;
  color: #999;
}

.settings-heading {
  margin: 0 0 var(--space-md) 0;
  font-size: var(--text-micro);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-600);
}

.settings-btn {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 100%;
  padding: var(--space-md);
  border: var(--border-thin);
  border-radius: var(--radius-lg);
  background-color: var(--color-white);
  font-family: var(--font-sans);
  text-align: left;
  cursor: pointer;
  transition: var(--transition-fast);
}

.settings-btn:hover {
  background-color: var(--color-gray-50);
}

.settings-btn:active {
  background-color: var(--color-gray-100);
}

.settings-btn span:first-child {
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  color: var(--color-black);
}

.settings-btn-desc {
  font-size: var(--text-caption);
  color: var(--color-gray-600);
  margin-top: var(--space-xs);
}

.settings-btn-danger {
  border-color: var(--color-black);
}

.settings-btn-danger span:first-child {
  color: var(--color-black);
}

/* Phase 4.6: Settings danger zone */
.settings-danger-zone {
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--color-gray-200);
}

.settings-version {
  margin-top: var(--space-2xl);
  text-align: center;
}

.settings-version-text {
  margin: 0;
  font-size: var(--text-caption);
  color: var(--color-gray-400);
}

/* ==========================================================================
   Image Capture Styles
   ========================================================================== */

/* Add Image Button - Minimal link style */
.image-add-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  width: 100%;
  padding: var(--space-md) 0;
  background: none;
  border: none;
  color: var(--color-gray-400);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  cursor: pointer;
  transition: color var(--transition-fast);
}

.image-add-btn:hover {
  color: var(--color-black);
}

.image-icon {
  font-size: 1.2em;
}

/* Image Preview Container */
.image-preview-container {
  position: relative;
  width: 100%;
  max-width: 300px;
  margin: var(--space-lg) auto;
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid var(--color-gray-100);
}

#image-preview {
  width: 100%;
  height: auto;
  display: block;
}

.remove-image-btn {
  position: absolute;
  top: var(--space-sm);
  right: var(--space-sm);
  width: 28px;
  height: 28px;
  border-radius: var(--radius-full);
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity var(--transition-fast);
}

.remove-image-btn:hover {
  opacity: 0.8;
}

/* Image Context Area */
.image-context-area {
  margin-bottom: var(--space-md);
}

.image-context-header {
  margin-bottom: var(--space-sm);
}

.image-context-label {
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  color: var(--color-gray-600);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.image-context-input-row {
  display: flex;
  gap: var(--space-sm);
  align-items: flex-start;
}

/* Image Voice Button */
.image-voice-btn {
  width: 48px;
  height: 48px;
  min-width: 48px;
  border-radius: 50%;
  border: 2px solid var(--color-black);
  background: var(--color-white);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  transition: var(--transition-fast);
}

.image-voice-btn:hover {
  background: var(--color-gray-50);
}

.image-voice-btn:active {
  transform: scale(0.95);
}

.image-voice-btn.recording {
  background: #dc2626;
  border-color: #dc2626;
  position: relative;
}

.image-voice-btn.recording::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: rgba(220, 38, 38, 0.3);
  transform: translate(-50%, -50%);
  animation: pulse-ring 1.5s ease-in-out infinite;
}

.image-voice-btn .stop-icon {
  width: 12px;
  height: 12px;
  background: white;
  border-radius: 2px;
  display: none;
}

.image-voice-btn.recording .stop-icon {
  display: block;
}

.image-voice-btn.recording .mic-icon {
  display: none;
}

/* Image Context Input */
.image-context-input {
  flex: 1;
  padding: var(--space-md);
  border: 1px solid var(--color-gray-100);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  resize: none;
  background: var(--color-gray-50);
}

.image-context-input:focus {
  outline: none;
  border-color: var(--color-black);
  background: var(--color-white);
}

.image-context-input::placeholder {
  color: var(--color-gray-400);
}

/* Image Transcript Display */
.image-transcript-display {
  margin-top: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  font-size: var(--text-caption);
  color: var(--color-gray-600);
  font-style: italic;
  min-height: 0;
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.image-transcript-display.visible {
  opacity: 1;
}

/* Image Section */
#image-section {
  padding: var(--space-md);
}

/* ==========================================================================
   Button Styles — Inscript Design System v2.0
   ========================================================================== */

/* Primary Button — Black bg, white text */
.btn-primary,
.button-primary {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  background: var(--black);
  color: #FFFFFF;
  border: none;
  border-radius: 8px;
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.01em;
  cursor: pointer;
  transition: background var(--transition);
}

.btn-primary:hover,
.button-primary:hover {
  background: var(--black-hover);
}

.btn-primary:active,
.button-primary:active {
  background: var(--black);
}

/* Secondary Button — Transparent, border only */
.btn-secondary,
.button-secondary {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  background: transparent;
  color: var(--text-primary);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: border-color var(--transition);
}

.btn-secondary:hover,
.button-secondary:hover {
  border-color: var(--black);
}

/* Full width button */
.btn-full {
  width: 100%;
}

/* ==========================================================================
   Inscript Design System Utilities — Direct from Design System HTML
   ========================================================================== */

/* Inscript Card — Standard card component */
.inscript-card {
  background: var(--paper-bg);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  transition: border-color var(--transition), box-shadow var(--transition);
}

.inscript-card:hover {
  border-color: var(--black);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
}

/* Inscript Input — Standard input field */
.inscript-input {
  background: #FFFFFF;
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  padding: 12px 16px;
  font-family: var(--font-sans);
  font-size: 15px;
  width: 100%;
  transition: border-color var(--transition);
}

.inscript-input:focus {
  border-color: var(--black);
  outline: none;
}

.inscript-input::placeholder {
  color: var(--text-secondary);
}

/* Nav Link — Small uppercase navigation */
.nav-link {
  font-size: 11px;
  letter-spacing: 0.1em;
  color: var(--text-secondary);
  transition: color var(--transition);
  text-transform: uppercase;
}

.nav-link:hover,
.nav-link.active {
  color: var(--text-primary);
}

/* Editorial Serif — For quotes and accents */
.editorial-serif {
  font-family: var(--font-serif);
}

/* ==========================================================================
   Processing Overlay - MOVED TO BOTTOM OF FILE (Phase 6.0.6)
   See ".processing-overlay" near end of file for mobile-optimized styles
   ========================================================================== */

/* ==========================================================================
   Digest Styles
   ========================================================================== */

/* Digest Trigger Button */
.digest-trigger-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  width: 100%;
  padding: var(--space-md) var(--space-lg);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-100);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  color: var(--color-black);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.digest-trigger-btn:hover {
  background: var(--color-gray-100);
}

/* Modal */
.modal {
  position: fixed;
  inset: 0;
  background: var(--color-white);
  z-index: 100;
  overflow-y: auto;
  padding: var(--space-lg);
}

.modal-content {
  max-width: 600px;
  margin: 0 auto;
  padding-bottom: var(--space-2xl);
}

.modal-close {
  position: fixed;
  top: var(--space-lg);
  right: var(--space-lg);
  width: 36px;
  height: 36px;
  border-radius: var(--radius-full);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-100);
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 101;
}

.modal-close:hover {
  background: var(--color-gray-100);
}

/* Digest Content */
.digest-header {
  text-align: center;
  margin-bottom: var(--space-xl);
  padding-top: var(--space-xl);
}

.digest-title {
  font-size: var(--text-title);
  font-weight: var(--weight-bold);
  margin: 0 0 var(--space-sm) 0;
  color: var(--color-black);
}

.digest-date {
  font-size: var(--text-caption);
  color: var(--color-gray-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.digest-section {
  margin-bottom: var(--space-xl);
  padding-bottom: var(--space-lg);
  border-bottom: 1px solid var(--color-gray-100);
}

.digest-section:last-of-type {
  border-bottom: none;
}

.digest-section-title {
  font-size: var(--text-heading);
  font-weight: var(--weight-semibold);
  margin: 0 0 var(--space-md) 0;
  color: var(--color-black);
}

.digest-text {
  font-size: var(--text-body);
  line-height: 1.6;
  color: var(--color-black);
  margin: 0;
}

.digest-themes {
  font-size: var(--text-body);
  color: var(--color-gray-600);
  margin: 0 0 var(--space-sm) 0;
}

.digest-label {
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  color: var(--color-gray-600);
  margin: 0 0 var(--space-xs) 0;
}

.digest-list,
.digest-actions {
  list-style: none;
  padding: 0;
  margin: 0;
}

.digest-list li,
.digest-actions li {
  font-size: var(--text-body);
  padding: var(--space-xs) 0;
  padding-left: var(--space-md);
  position: relative;
}

.digest-list li::before {
  content: "•";
  position: absolute;
  left: 0;
  color: var(--color-gray-400);
}

.digest-highlights {
  margin-top: var(--space-sm);
}

.digest-mood {
  font-size: var(--text-body);
  color: var(--color-gray-600);
  margin: var(--space-sm) 0 0 0;
}

/* ==========================================================================
   PIN Screen - Vogue Minimalist
   ========================================================================== */

#pin-screen {
  position: fixed;
  inset: 0;
  background: var(--color-white);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

#pin-screen.hidden {
  display: none;
}

.pin-container {
  width: 100%;
  max-width: 340px;
  padding: var(--space-xl);
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  min-height: 100dvh;
  justify-content: center;
  position: relative;
}

/* Brand Header - Editorial */
.pin-header {
  text-align: center;
  margin-bottom: var(--space-2xl);
}

.pin-brand {
  display: block;
  font-family: var(--font-serif);
  font-size: var(--text-headline);
  font-weight: 400;
  letter-spacing: var(--tracking-ultra);
  color: var(--color-black);
  line-height: 1.4;
}

/* Content */
.pin-content {
  text-align: center;
  margin-bottom: var(--space-xl);
}

.pin-title {
  font-family: var(--font-serif);
  font-size: var(--text-subhead);
  font-weight: 400;
  margin: 0 0 var(--space-sm) 0;
  color: var(--color-black);
}

.pin-subtitle {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-light);
  color: var(--color-gray-500);
  letter-spacing: var(--tracking-wide);
  margin: 0;
}

/* PIN Dots */
.pin-dots {
  display: flex;
  gap: var(--space-md);
  justify-content: center;
  margin: var(--space-xl) 0;
}

.pin-dot {
  width: 14px;
  height: 14px;
  border-radius: var(--radius-full);
  border: 1.5px solid var(--color-black);
  background: transparent;
  transition: all 0.15s ease;
}

.pin-dot.filled {
  background: var(--color-black);
  transform: scale(1.1);
}

/* Shake animation for wrong PIN */
.pin-dots.shake {
  animation: pin-shake 0.5s ease;
}

@keyframes pin-shake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-8px); }
  40%, 80% { transform: translateX(8px); }
}

/* Error message */
.pin-error {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: #c00;
  margin-top: var(--space-md);
  height: 20px;
}

.pin-error.hidden {
  visibility: hidden;
}

/* Loading spinner - iOS Safari fix */
.pin-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-xl);
}

.pin-loading span {
  font-family: var(--font-serif);
  font-size: var(--text-caption);
  color: var(--color-gray-400);
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.pin-spinner {
  width: 40px;
  height: 40px;
  border: 2px solid var(--color-gray-100);
  border-top-color: var(--color-black);
  border-radius: 50%;
  animation: pin-spin 0.8s linear infinite;
}

@keyframes pin-spin {
  to { transform: rotate(360deg); }
}

.pin-loading.hidden {
  display: none;
}

/* Numpad - Clean, minimal */
.pin-numpad {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-sm);
  width: 100%;
  max-width: 260px;
}

.pin-key {
  aspect-ratio: 1;
  border: none;
  background: transparent;
  font-family: var(--font-sans);
  font-size: var(--text-headline);
  font-weight: var(--weight-light);
  color: var(--color-black);
  cursor: pointer;
  border-radius: var(--radius-full);
  transition: background 0.15s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.pin-key:hover {
  background: var(--color-gray-50);
}

.pin-key:active {
  background: var(--color-gray-100);
  transform: scale(0.95);
}

.pin-key-empty {
  pointer-events: none;
}

.pin-key-delete {
  font-size: var(--text-subhead);
}

/* Forgot / Back buttons - Subtle */
.pin-forgot,
.pin-back {
  margin-top: var(--space-xl);
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-400);
  cursor: pointer;
  letter-spacing: var(--tracking-wide);
  padding: var(--space-sm) var(--space-md);
  transition: color var(--transition-fast);
}

.pin-forgot:hover,
.pin-back:hover {
  color: var(--color-black);
}

/* Hint text - Bottom positioned */
.pin-hint {
  position: absolute;
  bottom: var(--space-xl);
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-400);
  letter-spacing: var(--tracking-wide);
  text-align: center;
}

/* Welcome Screen Buttons */
.pin-welcome-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  width: 100%;
  max-width: 280px;
  margin-top: var(--space-xl);
}

.pin-welcome-btn {
  width: 100%;
  padding: var(--space-md) var(--space-lg);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: var(--transition-fast);
  border: 1px solid var(--color-black);
}

.pin-welcome-btn-primary {
  background: var(--color-black);
  color: var(--color-white);
}

.pin-welcome-btn-primary:hover {
  background: var(--color-gray-600);
}

.pin-welcome-btn-primary:disabled {
  background: var(--color-gray-400);
  border-color: var(--color-gray-400);
  cursor: not-allowed;
}

.pin-welcome-btn-secondary {
  background: var(--color-white);
  color: var(--color-black);
}

.pin-welcome-btn-secondary:hover {
  background: var(--color-gray-50);
}

/* Sign In / Sign Up Form */
.pin-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  width: 100%;
  max-width: 280px;
  margin-top: var(--space-lg);
}

.pin-input {
  width: 100%;
  padding: var(--space-md);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  background: var(--color-white);
  color: var(--color-black);
  transition: var(--transition-fast);
}

.pin-input:focus {
  outline: none;
  border-color: var(--color-black);
}

.pin-input::placeholder {
  color: var(--color-gray-400);
}

.pin-form-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  width: 100%;
  max-width: 280px;
  margin-top: var(--space-lg);
}

/* PIN Lockout Timer */
.pin-lockout-timer {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
  margin-top: var(--space-xl);
}

.pin-lockout-timer span:first-child {
  font-family: var(--font-sans);
  font-size: 3rem;
  font-weight: var(--weight-bold);
  color: var(--color-black);
  letter-spacing: var(--tracking-wide);
}

.pin-lockout-timer span:last-child {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

/* ==========================================================================
   Account & Sync Styles
   ========================================================================== */

.settings-account-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-md) var(--space-lg);
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-100);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-md);
}

.account-info {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.account-email {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  color: var(--color-black);
}

.sync-status {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.sync-status-connected {
  color: var(--color-gray-600);
}

.sync-status-syncing {
  color: var(--color-gray-400);
}

.sync-status-error {
  color: #c00;
}

.account-sync-btn {
  width: 40px;
  height: 40px;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-full);
  background: var(--color-white);
  font-size: var(--text-heading);
  color: var(--color-black);
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.account-sync-btn:hover {
  background: var(--color-gray-50);
}

.account-sync-btn:active {
  transform: rotate(180deg);
}

.settings-auth-buttons {
  display: flex;
  gap: var(--space-sm);
}

.settings-btn-outline {
  background: transparent;
  border: 1px solid var(--color-black);
  color: var(--color-black);
}

.settings-btn-outline:hover {
  background: var(--color-black);
  color: var(--color-white);
}

.settings-auth-link {
  text-align: center;
  margin-top: var(--space-md);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.settings-link-btn {
  background: none;
  border: none;
  color: var(--color-black);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  cursor: pointer;
  text-decoration: underline;
  padding: 0;
}

.settings-link-btn:hover {
  color: var(--color-gray-600);
}

/* ==========================================================================
   Auth Screen - Full page authentication (no PIN)
   ========================================================================== */

.auth-screen {
  position: fixed;
  inset: 0;
  background: var(--color-white);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-y: auto;
}

.auth-screen.hidden {
  display: none;
}

.auth-tagline {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-light);
  color: var(--color-gray-400);
  margin: var(--space-xs) 0 0 0;
  letter-spacing: var(--tracking-wide);
}

/* ==========================================================================
   Auth Modal - Vogue Minimalist
   ========================================================================== */

.auth-modal {
  position: fixed;
  inset: 0;
  background: var(--color-white);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-y: auto;
}

.auth-modal.hidden {
  display: none;
}

.auth-container {
  width: 100%;
  max-width: 380px;
  padding: var(--space-xl);
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  min-height: 100dvh;
  justify-content: center;
  position: relative;
}

/* Brand Header */
.auth-header {
  text-align: center;
  margin-bottom: var(--space-3xl);
}

.auth-brand {
  font-family: var(--font-serif);
  font-size: var(--text-subhead);
  font-weight: 400;
  letter-spacing: var(--tracking-ultra);
  color: var(--color-black);
  text-transform: uppercase;
}

/* Close button */
.auth-close {
  position: absolute;
  top: var(--space-lg);
  right: var(--space-lg);
  width: 44px;
  height: 44px;
  border: none;
  background: transparent;
  font-size: var(--text-heading);
  color: var(--color-gray-400);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color var(--transition-fast);
}

.auth-close:hover {
  color: var(--color-black);
}

/* Form container */
.auth-form {
  width: 100%;
}

/* Content area */
.auth-content {
  text-align: center;
  margin-bottom: var(--space-xl);
}

/* Legacy - hidden */
.auth-title,
.auth-subtitle {
  display: none;
}

/* Phase 9.5: Auth headline hidden for elegant minimal design */
.auth-modal .auth-headline {
  display: none;
}

/* Form fields */
.auth-fields {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
  margin-bottom: var(--space-lg);
}

.auth-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.auth-label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
}

.auth-input {
  width: 100%;
  padding: var(--space-md);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  color: var(--color-black);
  background: var(--color-white);
  transition: border-color var(--transition-fast);
}

.auth-input:focus {
  outline: none;
  border-color: var(--color-black);
}

.auth-input::placeholder {
  color: var(--color-gray-400);
}

/* Error message */
.auth-error {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: #c00;
  text-align: center;
  margin: 0 0 var(--space-md) 0;
  min-height: 20px;
}

.auth-error.hidden {
  visibility: hidden;
}

/* Submit button */
.auth-submit {
  width: 100%;
  padding: var(--space-md) var(--space-lg);
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  letter-spacing: var(--tracking-wide);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.auth-submit:hover {
  background: var(--color-gray-600);
}

.auth-submit:active {
  transform: scale(0.98);
}

.auth-submit:disabled {
  background: var(--color-gray-400);
  cursor: not-allowed;
}

/* Switch between sign in / sign up */
.auth-switch {
  text-align: center;
  margin-top: var(--space-xl);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.auth-switch-btn {
  background: none;
  border: none;
  color: var(--color-black);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  cursor: pointer;
  text-decoration: underline;
  padding: 0;
}

.auth-switch-btn:hover {
  color: var(--color-gray-600);
}

/* ==========================================================================
   Twin Tab Styles
   ========================================================================== */

#screen-twin {
  padding: var(--space-lg);
  padding-bottom: 120px;
}

/* Header */
.twin-header {
  text-align: center;
  margin-bottom: var(--space-xl);
}

.twin-title {
  font-family: var(--font-sans);
  font-size: 1.75rem;
  font-weight: 300;
  letter-spacing: -0.02em;
  text-transform: lowercase;
  color: var(--color-black);
  margin: 0 0 4px 0;
}

.twin-subtitle {
  font-family: var(--font-sans);
  font-size: 0.75rem;
  color: #9ca3af;
  letter-spacing: 0.05em;
  margin: 0;
}

/* Confidence Meter */
.twin-confidence {
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  margin-bottom: var(--space-xl);
}

.twin-confidence-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-sm);
}

.twin-confidence-label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
}

.twin-confidence-value {
  font-family: var(--font-serif);
  font-size: var(--text-heading);
  font-weight: var(--weight-semibold);
}

.twin-confidence-bar {
  height: 8px;
  background: var(--color-gray-200);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-bottom: var(--space-sm);
}

.twin-confidence-fill {
  height: 100%;
  background: var(--color-black);
  border-radius: var(--radius-full);
  transition: width var(--transition-slow);
}

.twin-confidence-hint {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
  margin: 0;
  text-align: center;
}

/* Stats Grid - SoHo Editorial */
.twin-stats {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 24px;
}

.twin-stat {
  text-align: center;
  padding: 16px 8px;
  background: #FAFAFA;
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  transition: border-color 200ms ease-out;
}

.twin-stat:hover {
  border-color: rgba(0, 0, 0, 0.12);
}

.twin-stat-value {
  display: block;
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 32px;
  font-weight: 600;
  color: #1A1A1A;
  line-height: 1.2;
  margin-bottom: 4px;
}

.twin-stat-label {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 11px;
  font-weight: 500;
  color: #6B6B6B;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

/* Quality Learning Section */
.quality-section {
  margin-bottom: var(--space-xl);
}

.quality-card {
  background: var(--color-white);
  border: var(--border-thin);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  margin-bottom: var(--space-md);
}

.quality-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-md);
}

.quality-title {
  font-family: var(--font-serif);
  font-size: var(--text-subhead);
  font-weight: var(--weight-medium);
}

.quality-trend {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.quality-trend-up {
  color: var(--color-black);
}

.quality-trend-down {
  color: var(--color-gray-600);
}

.quality-bar-container {
  height: 8px;
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  margin-bottom: var(--space-sm);
  overflow: hidden;
}

.quality-bar {
  height: 100%;
  background: var(--color-black);
  border-radius: var(--radius-full);
  transition: width var(--transition-normal);
}

.quality-stats-row {
  display: flex;
  justify-content: space-between;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.quality-preferences {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.quality-pref-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.quality-pref-label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.quality-pref-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}

.quality-pref-tag {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-full);
  border: 1px solid var(--color-gray-200);
}

.quality-pref-like {
  background: var(--color-gray-50);
  border-color: var(--color-black);
}

.quality-pref-dislike {
  background: var(--color-white);
  border-color: var(--color-gray-400);
  color: var(--color-gray-600);
}

/* ==========================================================================
   Phase 8: About Me Section
   ========================================================================== */

.about-me-section {
  background: var(--color-white);
  border: var(--border-thin);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  margin-bottom: var(--space-lg);
}

.about-me-section h3 {
  margin: 0 0 var(--space-md) 0;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
}

.about-me-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.profile-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.profile-field label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.profile-field input,
.profile-field textarea {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  border: var(--border-thin);
  border-radius: var(--radius-md);
  background: var(--color-gray-50);
  color: var(--color-black);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  box-sizing: border-box;
}

.profile-field input:focus,
.profile-field textarea:focus {
  outline: none;
  border-color: var(--color-black);
  background: var(--color-white);
}

.profile-field textarea {
  min-height: 80px;
  resize: vertical;
}

.profile-field small {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-400);
}

.about-me-section .btn-primary {
  margin-top: var(--space-sm);
  padding: var(--space-sm) var(--space-lg);
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.about-me-section .btn-primary:hover {
  opacity: 0.8;
}

.about-me-section .btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ==========================================================================
   Phase 8: Entity Editor Modal
   ========================================================================== */

.entity-editor-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.entity-editor-modal .modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.entity-editor-modal .modal-content {
  position: relative;
  background: var(--color-white);
  border-radius: var(--radius-lg);
  width: 90%;
  max-width: 400px;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: var(--shadow-lg);
}

.entity-editor-modal .modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md) var(--space-lg);
  border-bottom: var(--border-thin);
}

.entity-editor-modal .modal-header h3 {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-semibold);
}

.entity-editor-modal .close-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: var(--color-gray-500);
  padding: 0;
  line-height: 1;
}

.entity-editor-modal .modal-body {
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.entity-editor-modal .field {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.entity-editor-modal .field label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-500);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.entity-editor-modal .field input,
.entity-editor-modal .field select,
.entity-editor-modal .field textarea {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  border: var(--border-thin);
  border-radius: var(--radius-md);
  background: var(--color-gray-50);
  color: var(--color-black);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  box-sizing: border-box;
}

.entity-editor-modal .field input:focus,
.entity-editor-modal .field select:focus,
.entity-editor-modal .field textarea:focus {
  outline: none;
  border-color: var(--color-black);
  background: var(--color-white);
}

.entity-editor-modal .field textarea {
  min-height: 60px;
  resize: vertical;
}

.entity-editor-modal .modal-footer {
  display: flex;
  justify-content: space-between;
  padding: var(--space-md) var(--space-lg);
  border-top: var(--border-thin);
  gap: var(--space-sm);
}

.entity-editor-modal .btn-primary,
.entity-editor-modal .btn-secondary,
.entity-editor-modal .btn-danger {
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  cursor: pointer;
  border: none;
  transition: opacity 0.2s ease;
}

.entity-editor-modal .btn-primary {
  background: var(--color-black);
  color: var(--color-white);
}

.entity-editor-modal .btn-secondary {
  background: var(--color-gray-100);
  color: var(--color-black);
}

.entity-editor-modal .btn-danger {
  background: #ef4444;
  color: var(--color-white);
  margin-right: auto;
}

.entity-editor-modal .btn-primary:hover,
.entity-editor-modal .btn-secondary:hover,
.entity-editor-modal .btn-danger:hover {
  opacity: 0.8;
}

/* Entity Chips (clickable entities in note detail) */
.entity-chips {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}

.entity-chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xs) var(--space-sm);
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  cursor: pointer;
  transition: background 0.2s ease;
}

.entity-chip:hover {
  background: var(--color-gray-200);
}

.entity-chip .entity-type {
  font-size: var(--text-micro);
  color: var(--color-gray-500);
  text-transform: lowercase;
}

/* Entity chip type variants */
.entity-chip-person {
  background: #e8f4fd;
  color: #1a73e8;
}
.entity-chip-person:hover {
  background: #d2e9fc;
}

.entity-chip-pet {
  background: #fef3e8;
  color: #e67700;
}
.entity-chip-pet:hover {
  background: #fde8d0;
}

.entity-chip-place {
  background: #e8f8e8;
  color: #137333;
}
.entity-chip-place:hover {
  background: #d0f0d0;
}

.entity-chip-project {
  background: #f3e8fd;
  color: #7b1fa2;
}
.entity-chip-project:hover {
  background: #e8d0fc;
}

/* Entities section in note detail */
.entities-section {
  margin: var(--space-md) 0;
}

.entities-section .entity-chips {
  margin-top: var(--space-sm);
}

/* ==========================================================================
   Phase 8: Learning Section
   ========================================================================== */

.learning-section-container {
  margin-bottom: var(--space-lg);
}

.learning-section {
  background: var(--color-white);
  border: var(--border-thin);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
}

.learning-section h3 {
  margin: 0 0 var(--space-lg) 0;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
}

.learning-category {
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-lg);
  border-bottom: var(--border-thin);
}

.learning-category:last-of-type {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.learning-category h4 {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-400);
  margin: 0 0 var(--space-sm) 0;
}

.learning-stats {
  display: flex;
  gap: var(--space-xl);
}

.learning-stats .stat {
  text-align: center;
}

.learning-stats .stat-value {
  display: block;
  font-family: var(--font-sans);
  font-size: var(--text-large);
  font-weight: var(--weight-semibold);
  color: var(--color-black);
}

.learning-stats .stat-label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-500);
  text-transform: uppercase;
}

.learning-insight {
  margin: var(--space-sm) 0 0 0;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.learning-insight strong {
  color: var(--color-black);
}

.learning-empty {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-400);
  font-style: italic;
  margin: 0;
}

.learning-footer {
  text-align: center;
  padding-top: var(--space-md);
}

.learning-footer p {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-400);
  margin: 0;
}

/* ==========================================================================
   Phase 8: Follow-up Modal
   ========================================================================== */

.follow-up-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.follow-up-modal .modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.follow-up-modal .modal-content {
  position: relative;
  background: var(--color-white);
  border-radius: var(--radius-lg);
  width: 90%;
  max-width: 400px;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: var(--shadow-lg);
}

.follow-up-modal .modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md) var(--space-lg);
  border-bottom: var(--border-thin);
}

.follow-up-modal .modal-header h3 {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-semibold);
}

.follow-up-modal .close-btn {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: var(--color-gray-500);
  padding: 0;
  line-height: 1;
}

.follow-up-modal .modal-body {
  padding: var(--space-lg);
}

.follow-up-intro {
  margin: 0 0 var(--space-md) 0;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.follow-up-actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.follow-up-action {
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  padding: var(--space-md);
}

.follow-up-action .action-text {
  margin: 0 0 var(--space-sm) 0;
  font-family: var(--font-sans);
  font-size: var(--text-body);
  color: var(--color-black);
}

.follow-up-buttons {
  display: flex;
  gap: var(--space-xs);
}

.follow-up-buttons button {
  flex: 1;
  padding: var(--space-sm);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.follow-up-buttons button:hover {
  opacity: 0.8;
}

.btn-success {
  background: #22c55e;
  color: var(--color-white);
  border: none;
}

.btn-ghost {
  background: transparent;
  color: var(--color-gray-500);
  border: var(--border-thin);
}

.follow-up-modal .modal-footer {
  padding: var(--space-md) var(--space-lg);
  border-top: var(--border-thin);
  display: flex;
  justify-content: center;
}

.follow-up-modal .btn-secondary {
  padding: var(--space-sm) var(--space-lg);
  background: var(--color-gray-100);
  color: var(--color-black);
  border: none;
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  cursor: pointer;
}

/* Profile Sections - SoHo Editorial */
.twin-sections {
  display: flex;
  flex-direction: column;
  gap: 64px; /* SuperDesign: generous whitespace */
}

.twin-section {
  background: #FAFAFA;
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: 20px;
  transition: border-color 200ms ease-out;
}

.twin-section:hover {
  border-color: rgba(0, 0, 0, 0.12);
}

.twin-section-title {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 11px; /* Refined per SuperDesign */
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.08em; /* Tighter tracking */
  color: #6B6B6B;
  margin: 0 0 20px 0; /* Slightly more breathing room */
}

.twin-section-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.twin-empty {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 15px;
  font-style: italic;
  color: #6B6B6B;
  margin: 0;
}

/* Twin Items - People List */
.twin-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  min-height: 44px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.04);
}

.twin-item:last-child {
  border-bottom: none;
}

.twin-item-name {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 15px;
  font-weight: 500;
  color: #1A1A1A;
}

.twin-item-meta {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 13px;
  color: #6B6B6B;
}

.twin-item-bar {
  width: 60px;
  height: 4px;
  background: var(--color-gray-200);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.twin-item-bar-fill {
  height: 100%;
  background: var(--color-black);
  border-radius: var(--radius-full);
}

/* Values Tags */
.twin-values {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
  margin-bottom: var(--space-md);
}

.twin-value-tag {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  background: var(--color-gray-100);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-full);
}

/* Beliefs */
.twin-belief {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-sm) 0;
  border-bottom: var(--border-thin);
}

.twin-belief:last-child {
  border-bottom: none;
}

.twin-belief-topic {
  font-family: var(--font-sans);
  font-size: var(--text-body);
}

.twin-belief-stance {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-full);
}

.twin-stance-bullish {
  background: var(--color-gray-100);
}

.twin-stance-bearish {
  background: var(--color-gray-200);
}

.twin-stance-neutral {
  background: var(--color-gray-50);
}

/* Patterns */
.twin-pattern {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  padding: var(--space-sm) 0;
  border-bottom: var(--border-thin);
}

.twin-pattern:last-child {
  border-bottom: none;
}

/* Actions */
.twin-actions {
  margin-top: var(--space-xl);
}

.twin-action-btn {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-lg);
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.twin-action-btn:hover {
  opacity: 0.9;
}

.twin-action-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.twin-action-btn.rebuilding {
  position: relative;
  overflow: hidden;
}

.twin-action-btn.rebuilding::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  height: 2px;
  width: 100%;
  background: linear-gradient(90deg, transparent, var(--color-black), transparent);
  animation: rebuildProgress 1.5s ease-in-out infinite;
}

@keyframes rebuildProgress {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.twin-action-btn span:first-child {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  transition: opacity var(--transition-fast);
}

.twin-action-desc {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  opacity: 0.7;
}

/* ==========================================================================
   Note Result - Summary + Insight + Question Format
   ========================================================================== */

.note-result {
  background: var(--color-white);
  padding: var(--space-lg);
  margin-bottom: var(--space-md);
}

.note-result-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-lg);
}

.note-result-type {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
}

.note-result-time {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-400);
}

.note-result-summary {
  font-family: var(--font-serif);
  font-size: var(--text-subhead);
  font-weight: var(--weight-normal);
  line-height: 1.6;
  color: var(--color-black);
  margin-bottom: var(--space-md);
}

.note-result-divider {
  width: 100%;
  height: 1px;
  background: var(--color-gray-100);
  margin: var(--space-md) 0;
}

.note-result-insight {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  line-height: 1.5;
  color: var(--color-gray-600);
}

.note-result-question {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  line-height: 1.5;
  color: var(--color-black);
  font-style: italic;
}

/* Feedback Buttons */
.note-result-feedback {
  display: flex;
  justify-content: center;
  gap: var(--space-xl);
  padding: var(--space-lg) 0;
  margin-top: var(--space-lg);
  border-top: 1px solid var(--color-gray-100);
}

.feedback-btn {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--color-gray-200);
  border-radius: 50%;
  background: transparent;
  cursor: pointer;
  transition: all var(--transition-fast);
}

.feedback-btn:hover {
  border-color: var(--color-gray-400);
}

.feedback-btn.active {
  background: var(--color-black);
  border-color: var(--color-black);
}

.feedback-btn.active .feedback-icon {
  color: var(--color-white);
}

.feedback-icon {
  font-family: var(--font-sans);
  font-size: var(--text-lg);
  font-weight: var(--weight-medium);
  color: var(--color-black);
}

/* Comment Input */
.feedback-comment-input {
  padding: var(--space-md);
  margin-top: var(--space-md);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
}

.feedback-comment-textarea {
  width: 100%;
  padding: var(--space-sm);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  resize: none;
  background: var(--color-white);
}

.feedback-comment-textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

.feedback-comment-textarea::placeholder {
  color: var(--color-gray-400);
}

.feedback-comment-done {
  display: block;
  margin-top: var(--space-sm);
  margin-left: auto;
  padding: var(--space-xs) var(--space-md);
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  cursor: pointer;
}

/* Track Decision Button */
.note-result-actions {
  padding-top: var(--space-md);
}

.track-decision-btn {
  width: 100%;
  padding: var(--space-md);
  background: transparent;
  color: var(--color-black);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.track-decision-btn:hover {
  background: var(--color-gray-50);
  border-color: var(--color-gray-400);
}

/* ==========================================================================
   TWIN Tab - Decisions and Patterns
   ========================================================================== */

.twin-open-decisions {
  margin-bottom: var(--space-xl);
}

.twin-section-header {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
  margin-bottom: var(--space-md);
}

.twin-decision-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-md);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.twin-decision-card:hover {
  border-color: var(--color-gray-400);
}

.twin-decision-title {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  color: var(--color-black);
  margin-bottom: var(--space-xs);
}

.twin-decision-meta {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.twin-decision-arrow {
  font-size: var(--text-lg);
  color: var(--color-gray-400);
}

/* Pattern Cards */
.twin-pattern-card {
  padding: var(--space-md) 0;
  border-bottom: 1px solid var(--color-gray-100);
}

.twin-pattern-card:last-child {
  border-bottom: none;
}

.twin-pattern-title {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  color: var(--color-black);
  margin-bottom: var(--space-xs);
}

.twin-pattern-meta {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

/* Twin Stats Footer */
.twin-stats-footer {
  padding: var(--space-lg);
  text-align: center;
  border-top: 1px solid var(--color-gray-100);
  margin-top: var(--space-xl);
}

.twin-stats-text {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

/* Phase 3a: Open Decisions Section */
.twin-open-decisions {
  margin-bottom: var(--space-xl);
}

.twin-decision {
  display: flex;
  flex-direction: column;
  padding: var(--space-md);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-sm);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.twin-decision:hover {
  border-color: var(--color-black);
}

.twin-decision-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-sm);
  margin-bottom: var(--space-xs);
}

.twin-decision-status {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius-sm);
  background: var(--color-gray-100);
  color: var(--color-gray-600);
  flex-shrink: 0;
}

.decision-status-deliberating {
  background: var(--color-gray-100);
  color: var(--color-gray-600);
}

.decision-status-committed {
  background: var(--color-black);
  color: var(--color-white);
}

.decision-status-resolved {
  background: var(--color-gray-200);
  color: var(--color-gray-500);
}

.twin-decision-category {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-500);
}

.twin-decision-time {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  color: var(--color-gray-400);
}

/* Phase 3a: Decision Patterns Section */
.twin-decision-pattern {
  padding: var(--space-md) 0;
  border-bottom: 1px solid var(--color-gray-100);
}

.twin-decision-pattern:last-child {
  border-bottom: none;
}

.twin-pattern-name {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  color: var(--color-black);
  margin-bottom: var(--space-xs);
}

.twin-pattern-evidence {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-500);
}

.twin-pattern-confidence {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-top: var(--space-xs);
}

.twin-pattern-bar {
  flex: 1;
  height: 4px;
  background: var(--color-gray-100);
  border-radius: 2px;
  overflow: hidden;
}

.twin-pattern-bar-fill {
  height: 100%;
  background: var(--color-black);
  transition: width var(--transition-normal);
}

.twin-pattern-percent {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  color: var(--color-gray-500);
  min-width: 32px;
  text-align: right;
}

/* Values Tags */
.twin-value-tag {
  display: inline-block;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  padding: var(--space-xs) var(--space-sm);
  background: var(--color-gray-100);
  border-radius: var(--radius-full);
  margin-right: var(--space-xs);
  margin-bottom: var(--space-xs);
  color: var(--color-black);
}

/* ============================================
   Phase 3a: Note Detail Output Format
   Summary + Insight + Question + Feedback
   ============================================ */

.phase3a-output {
  padding: 0;
}

/* Phase 7: Preferences Applied Indicator */
.preferences-indicator {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  margin-bottom: var(--space-md);
  background: linear-gradient(135deg, rgba(111, 66, 193, 0.08), rgba(147, 51, 234, 0.05));
  border-left: 3px solid var(--color-gray-400);
  border-radius: var(--radius-sm);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-600);
}

.preferences-indicator .preferences-icon {
  font-size: 0.875rem;
  opacity: 0.8;
}

.preferences-indicator .preferences-text {
  letter-spacing: 0.02em;
  font-weight: var(--weight-medium);
}

/* Note Image Display */
.note-image-container {
  margin-bottom: var(--space-lg);
  border-radius: var(--radius-md);
  overflow: hidden;
  border: 1px solid var(--color-gray-100);
}

.note-image {
  width: 100%;
  max-height: 400px;
  object-fit: contain;
  display: block;
  border-radius: 8px;
  background: #f9fafb;
  margin: 16px 0;
}

/* Phase 4.5.3: Note Detail Image */
.note-detail-image {
  width: 100%;
  margin: 0 0 var(--space-lg) 0;
  border-radius: var(--radius-sm);
  overflow: hidden;
  background: var(--color-gray-100);
}

.note-detail-image img {
  width: 100%;
  height: auto;
  max-height: 400px;
  object-fit: contain;
  display: block;
}

.output-summary {
  font-family: var(--font-serif);
  font-size: 1.125rem;
  font-weight: var(--weight-normal);
  line-height: 1.6;
  color: var(--color-black);
  margin-bottom: var(--space-md);
}

.output-divider {
  height: 1px;
  background: var(--color-gray-200);
  margin: var(--space-lg) 0;
}

.output-insight {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-normal);
  line-height: 1.5;
  color: var(--color-gray-600);
  font-style: italic;
}

.output-question {
  font-family: var(--font-sans);
  font-size: var(--text-body);
  font-weight: var(--weight-medium);
  line-height: 1.5;
  color: var(--color-black);
}

/* Feedback Row */
.feedback-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin: 1.5rem 0;
}

.feedback-row .feedback-btn {
  font-family: 'Inter', sans-serif;
  font-size: 0.5rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  padding: 0.5rem 0.75rem;
  min-width: 70px;
  white-space: nowrap;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-sm);
  background: var(--color-white);
  color: var(--color-gray-600);
  cursor: pointer;
  transition: all 0.2s;
}

.feedback-row .feedback-btn:hover {
  border-color: var(--color-black);
  color: var(--color-black);
}

.feedback-row .feedback-btn.active {
  background: var(--color-black);
  border-color: var(--color-black);
  color: var(--color-white);
}

/* Feedback Comment */
.feedback-comment-container {
  margin-top: var(--space-md);
  padding: var(--space-md);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
}

.feedback-comment-container.hidden {
  display: none;
}

.feedback-comment-input {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: var(--text-body);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  resize: none;
  margin-bottom: var(--space-sm);
}

.feedback-comment-input:focus {
  outline: none;
  border-color: var(--color-black);
}

.feedback-comment-submit {
  display: block;
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.feedback-comment-submit:hover {
  opacity: 0.8;
}

/* Saved comment display */
.feedback-saved-comment {
  margin: var(--space-md) 0;
  padding: var(--space-sm) var(--space-md);
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
}

.feedback-comment-label {
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-gray-600);
  display: block;
  margin-bottom: var(--space-xs);
}

.feedback-comment-text {
  font-size: var(--text-caption);
  color: var(--color-black);
  font-style: italic;
}

/* Track Decision */
.track-decision-row {
  margin-top: var(--space-lg);
  text-align: center;
}

.track-decision-btn {
  display: inline-block;
  padding: var(--space-sm) var(--space-lg);
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  background: var(--color-white);
  color: var(--color-black);
  border: 1px solid var(--color-black);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.track-decision-btn:hover {
  background: var(--color-black);
  color: var(--color-white);
}

.decision-tracked-badge {
  display: inline-block;
  padding: var(--space-xs) var(--space-md);
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  background: var(--color-gray-100);
  color: var(--color-gray-600);
  border-radius: var(--radius-full);
}

/* ============================================
   PHASE 4.1: Note Section Styles (Generous Spacing)
   ============================================ */

/* Note sections with generous spacing */
.note-section {
  margin-bottom: var(--space-xl);
}

/* Phase 11.3: Editorial lowercase headers */
.note-section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-family: 'Inter', var(--font-sans);
  font-size: 0.75rem;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: lowercase;
  color: var(--color-gray-400);
  margin-bottom: var(--space-md);
}

/* Phase 5A.6: Edit button - Editorial but visible */
.edit-shared-btn {
  display: inline-block;
  margin-top: 1.25rem;
  padding: 0;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gray-500); /* Darker than before */
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  /* Subtle underline for discoverability */
  text-decoration: underline;
  text-decoration-color: var(--color-gray-300);
  text-underline-offset: 3px;
}

/* Tap/active state */
.edit-shared-btn:active {
  color: var(--color-black);
  text-decoration-color: var(--color-black);
}

/* Save button - Editorial but prominent */
.save-shared-btn {
  display: inline-block;
  margin-top: 1rem;
  margin-right: 1rem;
  padding: 0.6rem 1.5rem;
  background: var(--color-black);
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--color-white);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.save-shared-btn:active {
  opacity: 0.85;
}

/* Cancel button - subtle */
.cancel-edit-btn {
  display: inline-block;
  margin-top: 1rem;
  padding: 0.6rem 1.5rem;
  background: none;
  border: 1px solid var(--color-gray-300);
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--color-gray-500);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.cancel-edit-btn:active {
  border-color: var(--color-black);
  color: var(--color-black);
}

/* Phase 5A.4: Edit textarea - clean editorial */
.edit-shared-textarea {
  width: 100%;
  min-height: 120px;
  margin-top: 1rem;
  padding: 1rem;
  font-family: var(--font-sans);
  font-size: 0.95rem;
  line-height: 1.7;
  color: var(--color-black);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: 0;
  resize: vertical;
}

.edit-shared-textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

/* Phase 5A.6: Editorial edit links - visible but tasteful */
.edit-link {
  display: inline-block;
  margin-top: 1rem;
  padding: 0;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gray-500); /* Darker than before */
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  /* Subtle underline for discoverability */
  text-decoration: underline;
  text-decoration-color: var(--color-gray-300);
  text-underline-offset: 3px;
}

.edit-link:active {
  color: var(--color-black);
  text-decoration-color: var(--color-black);
}

/* Edit textarea - clean, minimal */
.edit-textarea {
  width: 100%;
  min-height: 100px;
  margin-top: 0.75rem;
  padding: 0.75rem;
  font-family: var(--font-sans);
  font-size: 0.9rem;
  line-height: 1.7;
  color: var(--color-black);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: 0;
  resize: vertical;
}

.edit-textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

/* Phase 5A.6: Edit actions row - Save · Cancel */
.edit-actions {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  margin-top: 0.75rem;
}

/* Save button - slightly bolder */
.save-link {
  padding: 0;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 600;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-black);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.save-link:active {
  opacity: 0.6;
}

/* Divider dot */
.edit-divider {
  color: var(--color-gray-300);
  font-size: 0.8rem;
  user-select: none;
}

/* Separator (legacy) */
.edit-separator {
  color: var(--color-gray-300);
  font-size: 0.7rem;
}

/* Cancel button - subtle */
.cancel-link {
  padding: 0;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gray-400);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.cancel-link:active {
  color: var(--color-black);
}

/* Edit container */
.edit-container {
  margin-top: 0.5rem;
}

/* Phase 7: Edit button for output sections (Summary, Insight) */
.edit-output-btn {
  display: inline-block;
  padding: 0;
  margin-left: 0.75rem;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.6rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gray-400);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  text-decoration: underline;
  text-decoration-color: var(--color-gray-300);
  text-underline-offset: 2px;
  vertical-align: middle;
}

.edit-output-btn:active {
  color: var(--color-black);
  text-decoration-color: var(--color-black);
}

/* Phase 7: Output edit textarea */
.edit-output-textarea {
  width: 100%;
  min-height: 80px;
  margin-top: 0.5rem;
  padding: 0.75rem;
  font-family: var(--font-sans);
  font-size: 0.9rem;
  line-height: 1.6;
  color: var(--color-black);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: 0;
  resize: vertical;
}

.edit-output-textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

/* Phase 7: Insight header with edit button */
.insight-header {
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
}

.insight-label {
  font-family: var(--font-sans);
  font-size: 0.6rem;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--color-gray-400);
}

/* Phase 7: Save/Cancel for summary and insight edits */
.save-summary-link,
.save-insight-link {
  padding: 0;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 600;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-black);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.save-summary-link:active,
.save-insight-link:active {
  opacity: 0.6;
}

.cancel-summary-link,
.cancel-insight-link {
  padding: 0;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gray-400);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.cancel-summary-link:active,
.cancel-insight-link:active {
  color: var(--color-black);
}

/* Phase 5A.6: Updating overlay - slightly more visible */
.updating-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.92);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.updating-indicator {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

/* Dot - slightly larger */
.updating-dot {
  width: 6px;
  height: 6px;
  background: var(--color-black);
  border-radius: 50%;
  animation: dotPulse 1.2s ease-in-out infinite;
}

@keyframes dotPulse {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.3);
  }
}

/* Text - slightly larger and darker */
.updating-word {
  font-family: var(--font-serif, Georgia, serif);
  font-size: 0.9rem;
  font-style: italic;
  font-weight: 400;
  letter-spacing: 0.08em;
  color: var(--color-gray-500); /* Darker than before */
  text-transform: lowercase;
}

/* Phase 4.6.2: Deleting overlay - higher z-index */
.deleting-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.96);
  z-index: 99999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.deleting-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.deleting-spinner {
  width: 32px;
  height: 32px;
  border: 2px solid var(--color-gray-200);
  border-top-color: var(--color-black);
  border-radius: 50%;
  animation: deletingSpin 0.8s linear infinite;
}

@keyframes deletingSpin {
  to { transform: rotate(360deg); }
}

.deleting-text {
  font-family: var(--font-serif);
  font-size: 0.9rem;
  font-style: italic;
  color: var(--color-gray-600);
}

/* Phase 5A.4: Reanalyzing state - Vogue minimalist */
#screen-note-detail.reanalyzing,
.note-detail.reanalyzing {
  position: relative;
}

#screen-note-detail.reanalyzing::before,
.note-detail.reanalyzing::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.92);
  z-index: 998;
}

#screen-note-detail.reanalyzing::after,
.note-detail.reanalyzing::after {
  content: 'Updating';
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: var(--font-serif, Georgia, serif);
  font-size: 1.25rem;
  font-weight: 400;
  font-style: italic;
  letter-spacing: 0.05em;
  color: var(--color-black);
  z-index: 999;
}

.note-original {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.7;
  color: var(--color-gray-700);
}

/* Personal mode - more reflective styling */
.personal-original {
  font-family: var(--font-sans);
  font-size: 1rem;
  line-height: 1.8;
  color: var(--color-black);
}

.personal-reveals {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.8;
  color: var(--color-gray-700);
}

.note-actions-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.note-actions-list li {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-black);
}

/* Action checkbox styling */
.note-actions-list li .action-checkbox {
  width: 1rem;
  height: 1rem;
  margin: 0;
  cursor: pointer;
  accent-color: var(--color-black);
}

.note-actions-list li label {
  cursor: pointer;
  flex: 1;
}

.note-actions-list li.completed label {
  text-decoration: line-through;
  color: var(--color-gray-400);
}

.note-decision-lens {
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-md);
  padding: var(--space-md);
  margin: var(--space-md) 0;
}

.note-decision-lens .decision-type {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-gray-600);
  margin-bottom: var(--space-sm);
}

.note-decision-lens .decision-options {
  margin-bottom: var(--space-sm);
}

.note-decision-lens .decision-options span {
  display: inline-block;
  padding: var(--space-xs) var(--space-sm);
  margin: var(--space-xs) var(--space-xs) var(--space-xs) 0;
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-sm);
}

.note-decision-lens .hidden-assumption {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  font-style: italic;
  color: var(--color-gray-600);
}

.note-shareability {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: var(--font-sans);
  font-size: 0.75rem;
  padding: 0.75rem 0;
  border-top: 1px solid var(--color-gray-200);
  color: var(--color-gray-600);
}

.note-shareability .share-status {
  font-weight: var(--weight-medium);
}

.note-shareability .share-status.ready {
  color: var(--color-black);
}

.copy-for-team-btn {
  display: inline-block;
  background: var(--color-white);
  border: 1px solid var(--color-black);
  padding: 0.75rem 1.5rem;
  font-family: var(--font-sans);
  font-size: 0.625rem;
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  cursor: pointer;
  transition: all var(--transition-fast);
  border-radius: var(--radius-sm);
}

.copy-for-team-btn:hover {
  background: var(--color-black);
  color: var(--color-white);
}

.decision-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin: var(--space-md) 0;
}

.decision-btn {
  padding: 0.75rem 1.5rem;
  font-family: var(--font-sans);
  font-size: 0.625rem;
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border: 1px solid var(--color-gray-200);
  background: var(--color-white);
  cursor: pointer;
  transition: all var(--transition-fast);
  border-radius: var(--radius-sm);
}

.decision-btn:hover {
  border-color: var(--color-black);
}

.decision-btn.active {
  background: var(--color-black);
  border-color: var(--color-black);
  color: var(--color-white);
}

.decision-btn.primary {
  background: var(--color-black);
  color: var(--color-white);
  border-color: var(--color-black);
}

.decision-btn.primary:hover {
  opacity: 0.8;
}

.decision-btn.resolve {
  background: var(--color-black);
  color: var(--color-white);
  border-color: var(--color-black);
}

.decision-btn.resolve:hover {
  opacity: 0.8;
}

.decision-resolved-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xs) var(--space-md);
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  background: var(--color-gray-100);
  color: var(--color-gray-600);
  border-radius: var(--radius-full);
}

/* This Week Section */
.this-week-summary {
  display: flex;
  justify-content: space-around;
  padding: var(--space-md) 0;
  border-bottom: 1px solid var(--color-gray-100);
  margin-bottom: var(--space-md);
}

.this-week-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-xs);
}

.this-week-stat .stat-value {
  font-family: var(--font-sans);
  font-size: 1.5rem;
  font-weight: var(--weight-bold);
  color: var(--color-black);
}

.this-week-stat .stat-label {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-gray-400);
}

.this-week-categories {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
}

.week-category {
  font-family: var(--font-sans);
  font-size: var(--text-caption);
  color: var(--color-gray-600);
}

/* Decision type badge in Thinking Through */
.twin-decision-type {
  font-family: var(--font-sans);
  font-size: var(--text-micro);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-gray-400);
  padding: var(--space-xs) var(--space-sm);
  background: var(--color-gray-100);
  border-radius: var(--radius-sm);
}

/* ============================================
   PHASE 3C: Answer Question Styles
   Vogue minimalist aesthetic
   ============================================ */

.question-section {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.answer-question-btn {
  display: inline-block;
  margin-top: 0.75rem;
  padding: 0.625rem 1.25rem;
  font-family: var(--font-sans);
  font-size: 0.5625rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  background: transparent;
  color: var(--color-black);
  border: 1px solid var(--color-gray-200);
  cursor: pointer;
  transition: all 0.2s ease;
}

.answer-question-btn:hover {
  border-color: var(--color-black);
}

.answer-container {
  width: 100%;
}

.answer-input-wrapper {
  margin: 1.25rem 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.answer-input-wrapper textarea {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  padding: 1rem;
  border: 1px solid var(--color-gray-200);
  border-radius: 0;
  resize: none;
  width: 100%;
  box-sizing: border-box;
  transition: border-color 0.2s ease;
}

.answer-input-wrapper textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

.answer-input-wrapper textarea::placeholder {
  color: var(--color-gray-400);
  font-style: italic;
}

.submit-answer-btn {
  align-self: flex-end;
  padding: 0.625rem 1.5rem;
  font-family: var(--font-sans);
  font-size: 0.5625rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.submit-answer-btn:hover {
  opacity: 0.85;
}

.submit-answer-btn:disabled {
  background: var(--color-gray-300);
  cursor: not-allowed;
}

.note-answer {
  margin: 1.25rem 0;
  padding: 1rem 1.25rem;
  background: var(--color-gray-50);
  border-left: 2px solid var(--color-black);
}

.answer-text {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  font-style: italic;
  color: var(--color-gray-600);
  line-height: 1.6;
}

/* ==========================================================================
   What You Shared Section - Original content display
   ========================================================================== */

.note-original-content {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  font-style: italic;
  color: var(--color-gray-600);
  padding: 1rem 1.25rem;
  background: var(--color-gray-50);
  border-left: 3px solid var(--color-black);
  margin: 0.5rem 0;
  line-height: 1.6;
}

/* ==========================================================================
   Inline Reflection Input - Modern send-style design
   ========================================================================== */

.reflection-input-container {
  position: relative;
  margin: 1.25rem 0;
}

.reflection-textarea {
  width: 100%;
  min-height: 80px;
  padding: 1rem;
  padding-right: 5rem; /* space for button */
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  resize: none;
  box-sizing: border-box;
  transition: border-color 0.2s ease;
}

.reflection-textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

.reflection-textarea::placeholder {
  color: var(--color-gray-400);
  font-style: italic;
}

.reflection-submit-btn {
  position: absolute;
  bottom: 12px;
  right: 12px;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  padding: 0.5rem 1rem;
  font-family: var(--font-sans);
  font-size: 0.625rem;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  cursor: pointer;
  transition: opacity 0.2s ease;
  border-radius: 4px;
}

.reflection-submit-btn:hover {
  opacity: 0.85;
}

.reflection-submit-btn:disabled {
  background: var(--color-gray-300);
  cursor: not-allowed;
}

/* Hide old invite section */
.invite-section {
  display: none !important;
}

.edit-answer-link {
  display: inline-block;
  margin-top: 0.5rem;
  font-family: var(--font-sans);
  font-size: 0.6875rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--color-gray-400);
  cursor: pointer;
  transition: color 0.2s ease;
}

.edit-answer-link:hover {
  color: var(--color-black);
}

/* ============================================
   Phase 9.2: Inline Question Response Input
   ============================================ */

.note-question__response {
  display: flex;
  gap: var(--space-2, 0.5rem);
  margin-top: var(--space-3, 0.75rem);
}

.note-question__input {
  flex: 1;
  font: 400 0.875rem/1.4 'Inter', sans-serif;
  border: 1px solid var(--ink-200, #E5E5E5);
  padding: var(--space-3, 0.75rem);
  background: var(--paper-pure, #FFFFFF);
  border-radius: 0;
  box-sizing: border-box;
}

.note-question__input:focus {
  outline: none;
  border-color: var(--ink-400, #999999);
}

.note-question__input::placeholder {
  color: var(--ink-300, #CCCCCC);
}

.note-question__submit {
  width: 44px;
  min-width: 44px;
  height: 44px;
  background: var(--ink-900, #000000);
  color: var(--paper-pure, #FFFFFF);
  border: none;
  font-size: 1.25rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.15s ease;
}

.note-question__submit:hover {
  opacity: 0.85;
}

.note-question__submit:disabled {
  background: var(--ink-300, #CCCCCC);
  cursor: not-allowed;
}

/* ============================================
   Phase 3d: Patterns Section - Vogue Minimalist
   AI-detected patterns from notes
   ============================================ */

.patterns-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 1.25rem;
}

.patterns-count {
  font-family: 'Inter', sans-serif;
  font-size: 0.625rem;
  font-weight: 500;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--color-gray-400);
}

.patterns-list {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.pattern-item {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

.pattern-icon {
  font-size: 1.125rem;
  line-height: 1.4;
  flex-shrink: 0;
}

.pattern-content {
  flex: 1;
  min-width: 0;
}

.pattern-title {
  font-family: 'Inter', sans-serif;
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-black);
  line-height: 1.5;
  margin-bottom: 0.25rem;
}

.pattern-description {
  font-family: 'Cormorant Garamond', Georgia, serif; /* Editorial serif per SuperDesign */
  font-size: 0.9375rem; /* 15px for better readability */
  font-style: italic;
  font-weight: 400;
  color: var(--color-gray-600);
  line-height: 1.6;
}

.patterns-footer {
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--color-gray-100);
  font-family: 'Inter', sans-serif;
  font-size: 0.6875rem;
  font-weight: 400;
  letter-spacing: 0.05em;
  color: var(--color-gray-400);
}

/* Patterns Empty State */
.patterns-empty {
  text-align: center;
  padding: 2rem 1rem;
}

.patterns-empty-title {
  font-family: 'Inter', sans-serif;
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--color-gray-600);
  margin-bottom: 0.5rem;
}

.patterns-empty-subtitle {
  font-family: 'Inter', sans-serif;
  font-size: 0.8125rem;
  font-weight: 400;
  color: var(--color-gray-400);
  margin-bottom: 1.25rem;
}

.patterns-progress {
  width: 60%;
  max-width: 200px;
  height: 3px;
  background: var(--color-gray-100);
  margin: 0 auto 0.5rem;
  overflow: hidden;
}

.patterns-progress-bar {
  height: 100%;
  background: var(--color-black);
  transition: width 0.4s ease;
}

.patterns-progress-label {
  font-family: 'Inter', sans-serif;
  font-size: 0.6875rem;
  font-weight: 400;
  color: var(--color-gray-400);
  letter-spacing: 0.05em;
}

/* Pattern Rebuild Button */
.patterns-rebuild {
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid var(--silver-100);
  text-align: center;
}

.patterns-rebuild-btn {
  display: inline-block;
  padding: 10px 20px;
  background: var(--ink);
  color: var(--paper);
  border: none;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: opacity var(--transition);
}

.patterns-rebuild-btn:hover {
  opacity: 0.85;
}

.patterns-rebuild-hint {
  margin-top: 8px;
  font-size: 12px;
  color: var(--text-secondary);
}

.patterns-rebuilding {
  text-align: center;
  padding: 40px 20px;
}

.patterns-rebuilding p {
  font-style: italic;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.patterns-rebuilding-spinner {
  width: 24px;
  height: 24px;
  border: 2px solid var(--silver-200);
  border-top-color: var(--ink);
  border-radius: 50%;
  margin: 0 auto;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.patterns-error {
  text-align: center;
  padding: 24px;
  color: #8B0000;
}

.patterns-error p {
  margin-bottom: 16px;
}

/* ============================================
   Phase 3e: Modal, Evidence, Skeleton Styles
   ============================================ */

/* Modal Overlay */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal-content {
  background: var(--color-white);
  padding: 2rem;
  max-width: 320px;
  width: 90%;
  animation: slideUp 0.2s ease;
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.modal-title {
  font-family: 'Inter', sans-serif;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-black);
  margin-bottom: 1rem;
}

.modal-message {
  font-family: 'Inter', sans-serif;
  font-size: 0.875rem;
  color: var(--color-gray-600);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

.modal-input-label {
  font-family: 'Inter', sans-serif;
  font-size: 0.6875rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--color-gray-500);
  margin-bottom: 0.5rem;
}

.modal-input {
  width: 100%;
  padding: 0.75rem;
  font-family: 'Inter', sans-serif;
  font-size: 0.9375rem;
  border: 1px solid var(--color-gray-200);
  margin-bottom: 1.5rem;
  box-sizing: border-box;
}

.modal-input:focus {
  outline: none;
  border-color: var(--color-black);
}

.modal-buttons {
  display: flex;
  gap: 0.75rem;
}

.modal-btn {
  flex: 1;
  padding: 0.75rem;
  font-family: 'Inter', sans-serif;
  font-size: 0.6875rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  border: none;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.modal-btn.cancel {
  background: var(--color-gray-100);
  color: var(--color-gray-600);
}

.modal-btn.danger {
  background: #dc2626;
  color: white;
}

.modal-btn.danger:disabled {
  background: var(--color-gray-300);
  cursor: not-allowed;
}

/* Pattern Evidence */
.pattern-evidence {
  margin-top: 0.75rem;
}

.evidence-toggle {
  font-family: 'Inter', sans-serif;
  font-size: 0.6875rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  color: var(--color-gray-400);
  cursor: pointer;
  transition: color 0.2s ease;
}

.evidence-toggle:hover {
  color: var(--color-gray-600);
}

.evidence-list {
  margin-top: 0.5rem;
  padding-left: 0.75rem;
  border-left: 1px solid var(--color-gray-200);
}

.evidence-note {
  font-family: 'Inter', sans-serif;
  font-size: 0.75rem;
  color: var(--color-gray-500);
  padding: 0.25rem 0;
  line-height: 1.5;
}

/* Skeleton Loading — Inscript Design System v2.0 (Shimmer) */
.skeleton,
.shimmer {
  background: linear-gradient(90deg, #f5f5f5 25%, #eeeeee 50%, #f5f5f5 75%);
  background-size: 200% 100%;
  animation: shimmer-animation 1.5s infinite linear;
  border-radius: 4px;
}

@keyframes shimmer-animation {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Legacy alias */
@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.note-skeleton {
  padding: 1.5rem;
}

.skeleton-line {
  height: 12px;
  background: linear-gradient(90deg, #f5f5f5 25%, #eeeeee 50%, #f5f5f5 75%);
  background-size: 200% 100%;
  animation: shimmer-animation 1.5s infinite linear;
  margin-bottom: 0.75rem;
  border-radius: 9999px;
}

.skeleton-line.short { width: 30%; }
.skeleton-line.medium { width: 60%; }
.skeleton-line.full { width: 100%; }
.skeleton-spacer { height: 1rem; }

/* Skeleton component variants */
.skeleton-text {
  height: 14px;
  margin: 8px 0;
}

.skeleton-title {
  height: 20px;
  width: 60%;
  margin: 12px 0;
}

.skeleton-card {
  height: 80px;
  margin: 12px 0;
  border-radius: 8px;
}

.skeleton-stat {
  height: 48px;
  width: 100%;
  margin: 8px 0;
  border-radius: 8px;
}

.skeleton-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
}

/* Skeleton container for notes list */
.notes-skeleton-container {
  padding: 16px;
}

.notes-skeleton-item {
  display: flex;
  flex-direction: column;
  padding: 16px;
  border-bottom: 1px solid var(--color-gray-100);
}

.notes-skeleton-item .skeleton-title {
  width: 70%;
}

.notes-skeleton-item .skeleton-text {
  width: 100%;
}

.notes-skeleton-item .skeleton-text:last-child {
  width: 40%;
}

/* Skeleton for TWIN stats */
.twin-skeleton-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  padding: 16px;
}

/* Skeleton for Pulse briefing */
.pulse-skeleton {
  padding: 16px;
}

.pulse-skeleton .skeleton-title {
  width: 50%;
  margin-bottom: 16px;
}

.pulse-skeleton .skeleton-text {
  margin-bottom: 8px;
}

/* Dark mode skeleton */
[data-theme="dark"] .skeleton,
[data-theme="dark"] .skeleton-line {
  background: linear-gradient(90deg, #2a2a2a 25%, #333333 50%, #2a2a2a 75%);
  background-size: 200% 100%;
}

@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Pattern Loading */
.pattern-loading-text {
  font-family: 'Inter', sans-serif;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-gray-600);
  margin-bottom: 0.25rem;
}

.pattern-loading-detail {
  font-family: 'Inter', sans-serif;
  font-size: 0.75rem;
  color: var(--color-gray-400);
}

/* ============================================
   PHASE 4A: Personal Output Styles
   Warm, emotional, reflective aesthetic
   ============================================ */

.personal-output {
  /* Base personal output styling */
}

/* Mood indicator - subtle pill at top */
.note-mood {
  display: flex;
  justify-content: flex-start;
  margin-bottom: var(--space-md);
}

.note-mood .mood-label {
  display: inline-block;
  font-family: var(--font-sans);
  font-size: 0.6875rem;
  font-weight: var(--weight-medium);
  font-style: italic;
  letter-spacing: 0.05em;
  color: var(--color-gray-500);
  padding: var(--space-xs) var(--space-sm);
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-full);
}

/* Personal original text - slightly softer */
.personal-original {
  font-style: italic;
  color: var(--color-gray-600);
  font-size: 1rem;
  line-height: 1.7;
}

/* What this reveals - the key insight section */
.personal-reveals {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.7;
  color: var(--color-black);
  padding: var(--space-md) 0;
}

/* A question to sit with - reflective, gentle (Phase 11.1: Cormorant Garamond) */
.personal-question {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.125rem;
  font-style: italic;
  line-height: 1.5;
  color: var(--color-black);
  padding: var(--space-sm) 0;
  border-left: 2px solid var(--color-gray-200);
  padding-left: var(--space-md);
  margin: var(--space-sm) 0;
}

/* Reflect button - softer version of answer button */
.personal-reflect-btn {
  margin-top: var(--space-md);
  padding: 0.75rem 1.5rem;
  font-family: var(--font-sans);
  font-size: 0.5625rem;
  font-weight: var(--weight-medium);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  background: transparent;
  color: var(--color-gray-600);
  border: 1px solid var(--color-gray-200);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.personal-reflect-btn:hover {
  color: var(--color-black);
  border-color: var(--color-black);
}

/* Phase 11.1: Editorial Typography for AI Voice sections */
/* What I Heard - uses Cormorant Garamond for AI voice */
.personal-heard {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.125rem;
  line-height: 1.7;
  color: var(--color-black);
  padding: var(--space-sm) 0;
}

/* What I Noticed - slightly smaller, softer */
.personal-noticed {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1rem;
  line-height: 1.6;
  color: var(--color-gray-700);
  padding: var(--space-sm) 0;
}

/* A Possibility (hidden assumption) */
.personal-assumption {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1rem;
  font-style: italic;
  line-height: 1.6;
  color: var(--color-gray-600);
  padding: var(--space-sm) 0;
}

/* Something to Try (experiment) */
.personal-experiment {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-black);
  padding: var(--space-sm) 0;
}

/* Memory tags section */
.memory-tags-section {
  margin-top: var(--space-md);
}

.memory-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}

.memory-tag {
  display: inline-block;
  font-family: var(--font-sans);
  font-size: 0.6875rem;
  font-weight: var(--weight-normal);
  letter-spacing: 0.02em;
  color: var(--color-gray-600);
  background: var(--color-gray-50);
  padding: 0.25rem 0.625rem;
  border-radius: var(--radius-full);
  border: 1px solid var(--color-gray-100);
}

/* ============================================
   PHASE 4.1: Chat Bottom Sheet
   ============================================ */

/* Think Through This button */
.think-through-btn {
  display: block;
  width: 100%;
  padding: 1rem;
  font-family: var(--font-sans);
  font-size: 0.625rem;
  font-weight: var(--weight-medium);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all var(--transition-fast);
  margin-top: 1.5rem;
}

.think-through-btn:hover {
  opacity: 0.9;
}

.think-through-btn:active {
  transform: scale(0.98);
}

/* Chat overlay - dims background */
.chat-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.3);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 999;
}

.chat-overlay.visible {
  opacity: 1;
  pointer-events: auto;
}

/* Chat bottom sheet */
.chat-bottom-sheet {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--color-white);
  border-radius: 16px 16px 0 0;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
  transform: translateY(100%);
  transition: transform 0.3s ease;
  z-index: 1000;
  max-height: 70vh;
  min-height: 50vh;
  display: flex;
  flex-direction: column;
}

.chat-bottom-sheet.open {
  transform: translateY(0);
}

/* Drag handle */
.drag-handle {
  width: 40px;
  height: 4px;
  background: var(--color-gray-200);
  border-radius: 2px;
  margin: 12px auto;
  flex-shrink: 0;
}

/* Phase 11.4: Editorial chat sheet header - lowercase */
.chat-sheet-header {
  text-align: center;
  font-family: 'Inter', var(--font-sans);
  font-size: 0.6875rem;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: lowercase;
  color: var(--color-gray-400);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid var(--color-gray-100);
  flex-shrink: 0;
}

/* Chat messages area - scrollable */
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: var(--space-md);
  min-height: 200px;
}

/* Welcome state */
.chat-welcome {
  text-align: center;
  padding: var(--space-xl) var(--space-md);
  color: var(--color-gray-500);
}

/* Phase 11.4: Editorial AI voice - Cormorant Garamond */
.chat-welcome p {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.125rem;
  font-weight: 400;
  font-style: italic;
  margin: 0;
  line-height: 1.5;
  color: var(--color-gray-600);
}

/* Chat messages */
.chat-message {
  margin-bottom: var(--space-md);
}

.chat-message:last-child {
  margin-bottom: 0;
}

.chat-message-content {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  line-height: 1.6;
  padding: 12px 16px;
  border-radius: 12px;
}

.user-message .chat-message-content {
  background: var(--color-black);
  color: var(--color-white);
  margin-left: 15%;
  border-bottom-right-radius: 4px;
}

/* Phase 11.4: Editorial AI voice - Cormorant Garamond */
.assistant-message .chat-message-content {
  background: var(--color-gray-50);
  color: var(--color-gray-700);
  margin-right: 15%;
  border-bottom-left-radius: 4px;
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.0625rem;
  font-style: italic;
  line-height: 1.5;
}

/* Typing indicator */
.typing-indicator .chat-message-content {
  animation: typing-pulse 1s infinite;
}

@keyframes typing-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

/* Chat input row - fixed at bottom of sheet */
.chat-input-row {
  display: flex;
  gap: var(--space-sm);
  padding: var(--space-md);
  border-top: 1px solid var(--color-gray-100);
  background: var(--color-white);
  flex-shrink: 0;
}

.chat-input {
  flex: 1;
  padding: 14px 16px;
  font-family: var(--font-sans);
  font-size: 1rem;
  background: var(--color-gray-50);
  border: 1px solid var(--color-gray-200);
  border-radius: 12px;
  outline: none;
  transition: all var(--transition-fast);
}

.chat-input:focus {
  border-color: var(--color-black);
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
}

/* Phase 11.4: Editorial lowercase placeholder */
.chat-input::placeholder {
  color: var(--color-gray-400);
  text-transform: lowercase;
}

/* Send button - circular with arrow */
.chat-send-btn {
  width: 44px;
  height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  transition: all var(--transition-fast);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.chat-send-btn span {
  font-size: 1.25rem;
  line-height: 1;
}

.chat-send-btn:hover {
  opacity: 0.9;
  transform: scale(1.02);
}

.chat-send-btn:active {
  transform: scale(0.97);
}

/* ============================================
   PHASE 4.2: Actions Hub Styles (Tab-based)
   ============================================ */

/* Actions list container */
.actions-list {
  padding: var(--space-lg) var(--space-md);
}

.actions-list.hidden {
  display: none;
}

/* Page header */
.actions-page-header {
  margin-bottom: var(--space-md);
}

.actions-page-title {
  font-family: var(--font-sans);
  font-size: 1.5rem;
  font-weight: 600;
  letter-spacing: -0.02em;
  color: var(--color-black);
  margin: 0 0 var(--space-xs) 0;
}

.actions-meta {
  font-family: var(--font-sans);
  font-size: 0.8125rem;
  color: var(--color-gray-500);
  margin: 0;
}

.actions-count {
  font-family: var(--font-sans);
  font-size: 0.8125rem;
  color: var(--color-gray-500);
}

/* Tab bar */
.actions-tabs {
  display: flex;
  gap: 24px;
  border-bottom: 1px solid var(--color-gray-100);
  margin-bottom: var(--space-md);
}

.action-tab {
  background: none;
  border: none;
  padding: 12px 0;
  font-family: var(--font-sans);
  font-size: 0.6875rem;
  font-weight: 500;
  letter-spacing: 0.08em;
  color: var(--color-gray-400);
  cursor: pointer;
  position: relative;
  transition: color var(--transition-fast);
}

.action-tab:hover {
  color: var(--color-gray-600);
}

.action-tab.active {
  color: var(--color-black);
}

.action-tab.active::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--color-black);
}

/* Tab content area */
.actions-content {
  min-height: 200px;
  max-height: calc(100vh - 350px);
  overflow-y: auto;
}

.tab-context {
  font-family: var(--font-sans);
  font-size: 0.75rem;
  color: var(--color-gray-500);
  margin: 0 0 var(--space-md) 0;
  font-style: italic;
}

.empty-state {
  text-align: center;
  color: var(--color-gray-400);
  padding: var(--space-3xl) 0;
  font-family: var(--font-sans);
  font-size: 0.875rem;
}

/* Phase 5A.7: Empty state for suggested actions */
.empty-state .empty-message {
  font-family: var(--font-serif);
  font-size: 1rem;
  font-style: italic;
  color: var(--color-gray-500);
  margin: 0 0 0.5rem 0;
}

.empty-state .empty-hint {
  font-family: var(--font-sans);
  font-size: 0.75rem;
  color: var(--color-gray-400);
  margin: 0;
}

/* Global section title - Design System v2 */
.section-title {
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #666;
  margin-bottom: 16px;
}

/* Actions sections */
.actions-section {
  margin-bottom: 48px;
}

.actions-section:last-of-type {
  margin-bottom: 0;
}

.actions-section-header {
  display: flex;
  align-items: baseline;
  gap: 8px;
  margin-bottom: 16px;
}

.actions-section-header.clickable {
  cursor: pointer;
}

.actions-section-title {
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #666;
}

.actions-section-count {
  font-size: 11px;
  color: #999;
}

/* Context reason for suggestions */
.actions-context {
  font-size: 13px;
  color: #666;
  margin: 0 0 16px;
  font-style: italic;
}

/* Action items - Design System v2 */
.action-items {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.action-items.done-items.hidden {
  display: none;
}

.action-item {
  background: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.action-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.action-item:last-child {
  margin-bottom: 0;
}

.action-row {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.action-checkbox {
  width: 18px;
  height: 18px;
  margin-top: 2px;
  flex-shrink: 0;
  cursor: pointer;
  accent-color: #1a1a1a;
}

.action-label {
  font-family: var(--font-body);
  font-size: 15px;
  line-height: 1.5;
  color: #1a1a1a;
  cursor: pointer;
  flex: 1;
}

.action-item.completed .action-label {
  text-decoration: line-through;
  color: #999;
}

/* Effort badge row */
.action-effort-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 8px;
  margin-left: 30px;
}

.action-effort-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #666;
}

.action-time,
.action-source {
  font-size: 11px;
  color: #999;
}

/* Clickable note link in action source */
.action-note-link {
  cursor: pointer;
  text-decoration: underline;
  text-decoration-color: #e5e5e5;
  text-underline-offset: 2px;
  transition: color 0.15s ease;
}

.action-note-link:hover {
  color: #666;
}

/* Legacy classes for backwards compat */
.action-meta {
  display: flex !important;
  align-items: center;
  gap: 0.75rem;
  font-family: var(--font-sans);
  font-size: 0.6875rem;
  color: var(--color-gray-500);
  margin-top: 0.5rem;
  padding-left: 1.75rem;
}

.action-effort {
  display: inline-flex !important;
  align-items: center;
  gap: 0.25rem;
  font-family: var(--font-sans);
  font-size: 0.7rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--color-gray-500);
}

/* ═══════════════════════════════════════════════════════════════
   GROUPED ACTIONS - Elegant Editorial Design
   Actions grouped by their source note
   Checkbox is the ONLY way to toggle completion
   ═══════════════════════════════════════════════════════════════ */

.action-groups {
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* Note group container */
.action-note-group {
  border-bottom: 1px solid var(--color-gray-100);
  padding: 1.5rem 0;
}

.action-note-group:first-child {
  padding-top: 0.75rem;
}

.action-note-group:last-child {
  border-bottom: none;
}

.action-note-group.all-done {
  opacity: 0.5;
}

/* Note header - clickable to open note */
.action-note-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 1rem;
  cursor: pointer;
  padding: 0.5rem 0.75rem;
  margin: 0 -0.75rem 1rem -0.75rem;
  border-radius: 6px;
  transition: background-color 0.15s ease;
}

.action-note-header:hover {
  background-color: var(--color-gray-50);
}

.action-note-header:active {
  background-color: var(--color-gray-100);
}

.action-note-title {
  font-family: var(--font-serif);
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-black);
  line-height: 1.35;
  flex: 1;
  padding-right: 1rem;
  text-decoration: underline;
  text-decoration-color: var(--color-gray-300);
  text-underline-offset: 3px;
}

.action-note-meta {
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--color-gray-400);
  white-space: nowrap;
}

/* Actions list within group */
.action-note-items {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

/* Individual action within group */
.action-group-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.5rem 0;
}

/* Custom checkbox wrapper */
.action-checkbox-wrapper {
  position: relative;
  width: 20px;
  height: 20px;
  min-width: 20px;
  margin-top: 1px;
}

.action-checkbox-wrapper .action-checkbox {
  position: absolute;
  width: 20px;
  height: 20px;
  opacity: 0;
  cursor: pointer;
  z-index: 2;
  margin: 0;
}

.action-checkbox-wrapper .action-checkmark {
  position: absolute;
  top: 0;
  left: 0;
  width: 20px;
  height: 20px;
  border: 1.5px solid var(--color-gray-300);
  border-radius: 4px;
  background: var(--color-white);
  transition: all 0.15s ease;
}

.action-checkbox-wrapper .action-checkbox:hover + .action-checkmark {
  border-color: var(--color-gray-400);
}

.action-checkbox-wrapper .action-checkbox:checked + .action-checkmark {
  background: var(--color-black);
  border-color: var(--color-black);
}

.action-checkbox-wrapper .action-checkbox:checked + .action-checkmark::after {
  content: '';
  position: absolute;
  left: 6px;
  top: 2px;
  width: 5px;
  height: 10px;
  border: solid var(--color-white);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Action content area */
.action-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.action-text {
  font-family: var(--font-sans);
  font-size: 0.9rem;
  line-height: 1.5;
  color: var(--color-gray-700);
}

.action-group-item.completed .action-text {
  text-decoration: line-through;
  color: var(--color-gray-400);
}

/* Effort tag */
.action-effort-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  font-family: var(--font-sans);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--color-gray-400);
}

.action-group-item.completed .action-effort-tag {
  opacity: 0.5;
}

/* Progress indicator */
.action-note-progress {
  margin-top: 0.75rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--color-gray-50);
}

.progress-text {
  font-family: var(--font-sans);
  font-size: 0.6rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--color-gray-400);
}

/* Done groups - muted styling */
.done-groups .action-note-group {
  opacity: 0.7;
}

.done-groups .action-note-title {
  color: var(--color-gray-500);
  text-decoration-color: var(--color-gray-200);
}

.done-groups .action-text {
  color: var(--color-gray-400);
}

/* Touch action fixes - prevent individual item dragging */
.action-note-group {
  touch-action: pan-y;
  user-select: none;
  -webkit-user-select: none;
}

.action-note-header {
  touch-action: manipulation;
}

.action-group-item {
  touch-action: manipulation;
}

/* ═══════════════════════════════════════════
   ACTION NUDGES - Smart Agency Stimulators
   Phase 5C: Replace effort labels with contextual nudges
   ═══════════════════════════════════════════ */

/* ═══════════════════════════════════════════
   COMPELLING NUDGES - Phase 5C.4
   Why + Future State
   ═══════════════════════════════════════════ */

/* Mirror nudge - special layout with commitment + why */
.action-nudge--mirror {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  margin-top: 0.5rem;
  font-size: 0.75rem;
  line-height: 1.35;
  position: relative;
  padding-left: 1.5rem;
}

.action-nudge--mirror .nudge-icon {
  position: absolute;
  left: 0;
  top: 0;
  font-size: 0.8rem;
}

/* The commitment quote */
.nudge-commitment {
  font-style: italic;
  color: var(--color-gray-600);
}

/* The why / future state */
.nudge-why {
  color: var(--color-gray-500);
  font-size: 0.7rem;
}

/* Other nudges - standard layout */
.action-nudge--stakes_waiting,
.action-nudge--stakes_deadline,
.action-nudge--stakes_time,
.action-nudge--momentum {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  margin-top: 0.4rem;
  font-size: 0.7rem;
}

/* Icon for non-mirror nudges */
.action-nudge--stakes_waiting .nudge-icon,
.action-nudge--stakes_deadline .nudge-icon,
.action-nudge--stakes_time .nudge-icon,
.action-nudge--momentum .nudge-icon {
  flex-shrink: 0;
  font-size: 0.75rem;
}

/* Text styles by type */
.action-nudge--stakes_waiting .nudge-text,
.action-nudge--stakes_deadline .nudge-text {
  color: var(--color-gray-600);
}

.action-nudge--stakes_time .nudge-text {
  color: var(--color-gray-400);
  font-style: italic;
}

.action-nudge--momentum .nudge-text {
  color: var(--color-gray-500);
}

/* ─────────────────────────────────────────
   Completed Actions - Dim the nudge
   ───────────────────────────────────────── */

.action-group-item.completed .action-nudge {
  opacity: 0.4;
}

/* ─────────────────────────────────────────
   Responsive - Smaller screens
   ───────────────────────────────────────── */

@media (max-width: 380px) {
  .action-nudge {
    font-size: 0.65rem;
  }

  .nudge-icon {
    font-size: 0.7rem;
  }
}

/* ─────────────────────────────────────────
   Swipe-to-Delete Actions
   Vogue minimalist: subtle, clean, no shadows
   ───────────────────────────────────────── */

.action-swipe-container {
  position: relative;
  width: 100%;
  overflow: hidden;
}

.action-main-content {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  background: var(--color-white);
  position: relative;
  z-index: 1;
  transition: transform 0.2s ease-out;
}

.action-delete-btn {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 80px;
  background: transparent;
  border: none;
  color: #EF4444;
  font-family: var(--font-sans);
  font-size: 0.8rem;
  font-weight: 500;
  letter-spacing: 0.02em;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.15s ease;
}

.action-group-item.swiped .action-delete-btn {
  opacity: 1;
}

.action-delete-btn:hover {
  background: rgba(239, 68, 68, 0.05);
}

.action-delete-btn:active {
  background: rgba(239, 68, 68, 0.1);
}

/* ─────────────────────────────────────────
   Toast Notification
   Vogue minimalist: black on white, no shadows
   ───────────────────────────────────────── */

/* Design guidelines: white bg, black reserved for buttons only */
.actions-toast {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: white;
  color: #333;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  font-family: var(--font-sans);
  font-size: 0.85rem;
  font-weight: 400;
  letter-spacing: 0.01em;
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 9999;
  pointer-events: none;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.actions-toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  pointer-events: auto;
}

.toast-message {
  flex: 1;
}

.toast-undo-btn {
  background: transparent;
  border: none;
  color: #333;
  font-family: var(--font-sans);
  font-size: 0.85rem;
  font-weight: 500;
  text-decoration: underline;
  cursor: pointer;
  padding: 0;
  transition: opacity 0.15s ease;
}

.toast-undo-btn:hover {
  opacity: 0.8;
}

/* Show more button */
.show-more-btn {
  display: block;
  width: 100%;
  padding: var(--space-md);
  font-family: var(--font-sans);
  font-size: 0.8125rem;
  color: var(--color-gray-500);
  background: transparent;
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  cursor: pointer;
  transition: all var(--transition-fast);
  margin-top: var(--space-md);
}

.show-more-btn:hover {
  border-color: var(--color-gray-400);
  color: var(--color-black);
}

/* Streak section */
.streak-section {
  background: var(--color-gray-50);
  border-radius: 12px;
  padding: var(--space-lg);
  margin-top: var(--space-lg);
}

.streak-header {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
}

.streak-fire {
  font-size: 1.25rem;
}

.streak-days {
  font-family: var(--font-sans);
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-black);
}

.streak-explanation {
  font-family: var(--font-sans);
  font-size: 0.8125rem;
  color: var(--color-gray-500);
  margin: 0;
  line-height: 1.5;
}

/* Empty state */
.actions-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-3xl) var(--space-md);
  text-align: center;
}

.actions-empty.hidden {
  display: none;
}

.actions-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.actions-empty-icon {
  font-size: 3rem;
  color: var(--color-gray-300);
  margin-bottom: var(--space-md);
}

.actions-empty-title {
  font-family: var(--font-sans);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-black);
  margin: 0 0 var(--space-sm);
}

.actions-empty-text {
  font-family: var(--font-sans);
  font-size: 0.9375rem;
  color: var(--color-gray-500);
  margin: 0;
}

/* ============================================
   PHASE 14: WORK TAB - Work Utility
   ============================================ */

/* Work Tab Sub-navigation */
.work-tabs {
  display: flex;
  border-bottom: 1px solid var(--silver-200);
  padding: 0 var(--space-4);
  background: var(--paper);
  position: sticky;
  top: 0;
  z-index: 10;
}

.work-tab {
  flex: 1;
  padding: var(--space-3) var(--space-2);
  font-family: var(--font-body);
  font-size: 13px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #6B6B6B;
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: color 0.15s ease, border-color 0.15s ease;
}

.work-tab:hover {
  color: #1A1A1A;
}

.work-tab.active {
  color: #1A1A1A;
  border-bottom-color: #1A1A1A;
}

/* Work Content Areas */
.work-content {
  padding: 24px 20px;
  min-height: calc(100vh - 200px);
  background: #f8f8f8;
}

.work-content.hidden {
  display: none;
}

/* ============================================
   YOU Tab (Phase 15.1: 3-Tab Restructure)
   ============================================ */

/* YOU Tab Sub-navigation */
.you-tabs {
  display: flex;
  border-bottom: 1px solid var(--silver-200);
  padding: 0 var(--space-4);
  background: var(--paper);
  position: sticky;
  top: 0;
  z-index: 10;
}

.you-tab {
  flex: 1;
  padding: var(--space-3) var(--space-2);
  font-family: var(--font-body);
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--silver-400);
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  cursor: pointer;
  transition: color 0.2s ease, border-color 0.2s ease;
}

.you-tab:hover {
  color: var(--ink-soft);
}

.you-tab.active {
  color: var(--ink);
  font-weight: 600;
  border-bottom-color: var(--ink);
}

/* YOU Content Areas */
.you-content {
  padding: var(--space-5) var(--space-4);
  min-height: calc(100vh - 200px);
  background: var(--paper-cream);
}

.you-content.hidden {
  display: none;
}

/* YOU Sections */
.you-section {
  margin-bottom: var(--space-6);
}

.you-section-title {
  font-family: var(--font-body);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--silver-500);
  margin-bottom: var(--space-3);
}

.you-empty {
  font-family: var(--font-editorial);
  font-size: 14px;
  font-style: italic;
  color: var(--silver-400);
  text-align: center;
  padding: var(--space-6) var(--space-4);
}

/* Whisper History in YOU tab */
.you-whisper-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.you-whisper-item {
  background: var(--paper);
  border: 1px solid var(--silver-100);
  border-radius: var(--radius-md);
  padding: var(--space-3) var(--space-4);
}

.you-whisper-content {
  font-family: var(--font-body);
  font-size: 14px;
  color: var(--ink-soft);
  margin-bottom: var(--space-2);
}

.you-whisper-time {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--silver-400);
  letter-spacing: 0.05em;
}

/* Quick Mode Buttons */
.notes-quick-modes {
  display: flex;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  border-top: 1px solid var(--silver-100);
}

.quick-mode-btn {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-2) var(--space-3);
  font-family: var(--font-body);
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--silver-600);
  background: var(--silver-50);
  border: 1px solid var(--silver-200);
  border-radius: 100px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.quick-mode-btn:hover {
  background: var(--silver-100);
  border-color: var(--silver-300);
  color: var(--ink);
}

.quick-mode-icon {
  font-size: 0.875rem;
}

.quick-mode-label {
  font-size: 0.6875rem;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

/* ─────────────────────────────────────────
   PULSE Tab - Morning Briefing
   ───────────────────────────────────────── */

.pulse-container {
  max-width: 480px;
  margin: 0 auto;
}

.pulse-loading {
  text-align: center;
  color: var(--silver-500);
  font-family: var(--font-body);
  font-size: 0.875rem;
  padding: var(--space-8) 0;
}

.pulse-greeting {
  font-family: var(--font-display);
  font-size: 24px;
  font-weight: 400;
  color: #1A1A1A;
  margin-bottom: var(--space-6);
}

.pulse-section {
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-6);
  border-bottom: 1px solid var(--silver-100);
}

.pulse-section:last-of-type {
  border-bottom: none;
}

.pulse-section-title {
  font-family: var(--font-body);
  font-size: 13px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #6B6B6B;
  margin: 0 0 var(--space-3);
}

.pulse-section-subtitle {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--silver-400);
  margin: 0 0 var(--space-3);
}

.pulse-themes,
.pulse-actions,
.pulse-commitments,
.pulse-people {
  list-style: none;
  margin: 0;
  padding: 0;
}

.pulse-themes li,
.pulse-action,
.pulse-commitment,
.pulse-person {
  padding: var(--space-2) 0;
  border-bottom: 1px solid var(--silver-50);
}

.pulse-themes li:last-child,
.pulse-action:last-child,
.pulse-commitment:last-child,
.pulse-person:last-child {
  border-bottom: none;
}

.pulse-themes li {
  font-family: var(--font-body);
  font-size: 0.875rem;
  color: var(--ink-soft);
}

.pulse-action {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.pulse-action-effort {
  font-size: 0.875rem;
}

.pulse-action-text {
  font-family: var(--font-body);
  font-size: 0.875rem;
  color: var(--ink-soft);
}

.pulse-commitment {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.pulse-commitment-text {
  font-family: var(--font-editorial);
  font-size: 0.9375rem;
  font-style: italic;
  color: var(--ink-soft);
}

.pulse-commitment-date {
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  color: var(--silver-400);
}

.pulse-person {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.pulse-person-name {
  font-family: var(--font-body);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--ink);
}

.pulse-person-context {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--silver-500);
}

.pulse-cta {
  display: block;
  width: 100%;
  padding: var(--space-4);
  font-family: var(--font-body);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--paper);
  background: var(--ink);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: opacity 0.15s ease;
  margin-top: var(--space-4);
}

.pulse-cta:hover {
  opacity: 0.9;
}

/* Phase 14: Simplified PULSE - synthesized summary */
.pulse-content {
  max-width: 400px;
  margin: 0 auto;
  padding: 48px 24px;
  text-align: center;
}

.pulse-greeting-large {
  font-family: var(--font-editorial);
  font-size: 32px;
  font-weight: 400;
  color: var(--ink-rich);
  margin: 0 0 16px;
}

.pulse-focus {
  font-family: var(--font-body);
  color: var(--silver-600);
  font-size: 16px;
  line-height: 1.5;
  margin: 0 0 8px;
}

.pulse-focus strong {
  color: var(--ink-soft);
  font-weight: 500;
}

.pulse-stats {
  font-family: var(--font-mono);
  color: var(--silver-400);
  font-size: 14px;
  letter-spacing: 0.02em;
  margin: 0 0 32px;
}

.pulse-cta-primary {
  display: inline-block;
  padding: 14px 32px;
  font-family: var(--font-body);
  font-size: 15px;
  font-weight: 500;
  color: var(--paper);
  background: var(--ink);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.pulse-cta-primary:hover {
  opacity: 0.9;
}

/* ─────────────────────────────────────────
   MEETINGS Tab
   ───────────────────────────────────────── */

.meetings-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.meetings-empty {
  text-align: center;
  color: var(--silver-500);
  font-family: var(--font-body);
  font-size: 0.875rem;
  padding: var(--space-8) 0;
}

/* Meeting cards - Design System v2 */
.meeting-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.meeting-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.meeting-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 8px;
}

.meeting-card-title {
  font-size: 16px;
  font-weight: 600;
  color: #1a1a1a;
  flex: 1;
  line-height: 1.3;
}

.meeting-card-date {
  font-size: 13px;
  color: #999;
  white-space: nowrap;
}

.meeting-card-preview {
  font-size: 14px;
  color: #666;
  line-height: 1.5;
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.meeting-card-action-preview {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #333;
  background: #f8f8f8;
  padding: 8px 12px;
  border-radius: 6px;
}

.meeting-card-action-preview .action-bullet {
  color: #999;
  font-weight: 600;
}

.meeting-card-action-preview .more-actions {
  color: #999;
  font-size: 11px;
  margin-left: auto;
}

.meeting-delete-btn {
  display: block;
  width: 100%;
  margin-top: 12px;
  padding: 12px;
  background: transparent;
  border: 1px solid var(--silver-200);
  color: var(--text-secondary);
  font-size: 13px;
  cursor: pointer;
  transition: all var(--transition);
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  min-height: 44px; /* Accessibility minimum touch target */
}

.meeting-delete-btn:hover,
.meeting-delete-btn:active {
  border-color: #8B0000;
  color: #8B0000;
  background: rgba(139, 0, 0, 0.05);
}

.meeting-card-meta {
  display: flex;
  gap: 8px;
  font-family: var(--font-mono);
  font-size: 11px;
  color: #999;
  margin-bottom: 8px;
}

.meeting-card-attendees {
  color: #666;
}

.meeting-card-actions {
  font-size: 12px;
  color: #999;
}

/* Skeleton loading for meeting cards */
.skeleton-meeting-card {
  padding: 16px;
  border-bottom: 1px solid var(--silver-100);
  pointer-events: none;
}

.meetings-add-btn {
  display: block;
  width: 100%;
  padding: var(--space-3);
  font-family: var(--font-body);
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--silver-600);
  background: none;
  border: 1px dashed var(--silver-300);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
  margin-top: var(--space-4);
}

.meetings-add-btn:hover {
  border-color: var(--silver-500);
  color: var(--ink);
}

/* ─────────────────────────────────────────
   COMMITMENTS Tab
   ───────────────────────────────────────── */

/* Commitments - Design System v2 */
.commitments-header {
  margin-bottom: 16px;
}

.commitments-intro {
  font-size: 14px;
  color: #666;
  margin: 0;
}

.commitments-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.commitments-empty {
  text-align: center;
  color: #999;
  font-size: 14px;
  padding: 48px 0;
}

.commitment-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.04);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.commitment-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.commitment-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: 15px;
  font-style: italic;
  color: #333;
  margin-bottom: 8px;
  line-height: 1.5;
}

.commitment-meta {
  font-family: var(--font-mono);
  font-size: 11px;
  color: #999;
  margin-bottom: 12px;
}

.commitment-actions {
  display: flex;
  gap: 8px;
}

.commitment-btn {
  flex: 1;
  padding: 10px 16px;
  font-size: 13px;
  font-weight: 500;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.commitment-btn-done {
  color: white;
  background: #1a1a1a;
  border: none;
}

.commitment-btn-done:hover {
  opacity: 0.9;
}

.commitment-btn-working {
  color: #333;
  background: none;
  border: 1px solid #e5e5e5;
}

.commitment-btn-working:hover {
  border-color: #999;
}

.commitment-btn-wont {
  color: #999;
  background: none;
  border: 1px solid #e5e5e5;
}

.commitment-btn-wont:hover {
  border-color: #999;
  color: #666;
}

/* ─────────────────────────────────────────
   Actions Extras (Commitments + Decisions in ACTIONS tab)
   ───────────────────────────────────────── */

.actions-extras {
  margin-top: var(--space-6);
  border-top: 1px solid var(--silver-200);
  padding-top: var(--space-6);
}

.actions-extra-section {
  margin-bottom: var(--space-6);
}

.actions-extra-title {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.actions-extra-label {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  font-weight: 600;
  letter-spacing: 0.1em;
  color: var(--silver-500);
  text-transform: uppercase;
}

.actions-extra-count {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--silver-400);
  background: var(--silver-100);
  padding: 2px 6px;
  border-radius: 10px;
}

.actions-extra-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.commitment-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  background: var(--paper-cream);
  border-radius: 6px;
}

.commitment-quote {
  flex: 1;
  font-family: var(--font-editorial);
  font-style: italic;
  font-size: 0.9rem;
  color: var(--ink-soft);
}

.commitment-date {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  color: var(--silver-500);
}

.commitment-done-btn {
  font-family: var(--font-body);
  font-size: 0.75rem;
  padding: 4px 10px;
  background: var(--ink);
  color: var(--paper);
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: opacity 0.2s;
}

.commitment-done-btn:hover {
  opacity: 0.8;
}

.decision-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  background: var(--paper-warm);
  border: 1px solid var(--silver-200);
  border-radius: 6px;
  cursor: pointer;
  transition: border-color 0.2s;
}

.decision-item:hover {
  border-color: var(--silver-400);
}

.decision-topic {
  flex: 1;
  font-family: var(--font-body);
  font-size: 0.9rem;
  color: var(--ink);
}

.decision-date {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  color: var(--silver-500);
}

/* ─────────────────────────────────────────
   Meeting Modal
   ───────────────────────────────────────── */

.meeting-modal-content {
  max-width: 480px;
}

.meeting-modal-title {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 500;
  color: var(--ink);
  margin: 0 0 var(--space-6);
}

.meeting-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.meeting-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.meeting-label {
  font-family: var(--font-body);
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--silver-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.meeting-input {
  padding: var(--space-3);
  font-family: var(--font-body);
  font-size: 0.9375rem;
  color: var(--ink);
  background: var(--paper);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  transition: border-color 0.15s ease;
}

.meeting-input:focus {
  outline: none;
  border-color: var(--ink);
}

.meeting-attendees {
  position: relative;
}

.meeting-attendees-chips {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-top: var(--space-2);
}

.attendee-chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: 8px 12px;
  font-family: var(--font-body);
  font-size: 13px;
  font-weight: 500;
  color: #1A1A1A;
  background: #F5F5F5;
  border-radius: 16px;
}

.attendee-remove {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  font-size: 0.875rem;
  color: var(--silver-500);
  background: none;
  border: none;
  cursor: pointer;
  transition: color 0.15s ease;
}

.attendee-remove:hover {
  color: var(--ink);
}

.meeting-suggestions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-top: var(--space-2);
}

.meeting-suggestions.hidden {
  display: none;
}

.meeting-suggestion {
  padding: var(--space-1) var(--space-2);
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--silver-600);
  background: var(--silver-50);
  border: 1px solid var(--silver-200);
  border-radius: 100px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.meeting-suggestion:hover {
  background: var(--silver-100);
  border-color: var(--silver-300);
  color: var(--ink);
}

.meeting-capture-row {
  display: flex;
  gap: var(--space-2);
}

.meeting-voice-btn {
  flex-shrink: 0;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  color: var(--silver-600);
  background: var(--silver-50);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.meeting-voice-btn:hover {
  background: var(--silver-100);
  border-color: var(--silver-300);
}

.meeting-voice-btn.recording {
  color: var(--paper);
  background: var(--error);
  border-color: var(--error);
  animation: pulse 1.5s ease-in-out infinite;
}

.meeting-textarea {
  flex: 1;
  padding: var(--space-3);
  font-family: var(--font-body);
  font-size: 0.9375rem;
  color: var(--ink);
  background: var(--paper);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  resize: vertical;
  min-height: 100px;
  transition: border-color 0.15s ease;
}

.meeting-textarea:focus {
  outline: none;
  border-color: var(--ink);
}

.meeting-transcript-display {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--silver-500);
  font-style: italic;
  margin-top: var(--space-2);
  min-height: 1.5em;
}

.meeting-save-btn {
  padding: var(--space-4);
  font-family: var(--font-body);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--paper);
  background: var(--ink);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.meeting-save-btn:hover {
  opacity: 0.9;
}

/* ─────────────────────────────────────────
   Decision Modal
   ───────────────────────────────────────── */

.decision-modal-content {
  max-width: 480px;
}

.decision-modal-title {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 500;
  color: var(--ink);
  margin: 0 0 var(--space-6);
}

.decision-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.decision-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.decision-label {
  font-family: var(--font-body);
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--silver-600);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.decision-input {
  padding: var(--space-3);
  font-family: var(--font-body);
  font-size: 0.9375rem;
  color: var(--ink);
  background: var(--paper);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  transition: border-color 0.15s ease;
}

.decision-input:focus {
  outline: none;
  border-color: var(--ink);
}

.decision-capture-row {
  display: flex;
  gap: var(--space-2);
}

.decision-voice-btn {
  flex-shrink: 0;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  color: var(--silver-600);
  background: var(--silver-50);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.decision-voice-btn:hover {
  background: var(--silver-100);
  border-color: var(--silver-300);
}

.decision-voice-btn.recording {
  color: var(--paper);
  background: var(--error);
  border-color: var(--error);
  animation: pulse 1.5s ease-in-out infinite;
}

.decision-textarea {
  flex: 1;
  padding: var(--space-3);
  font-family: var(--font-body);
  font-size: 0.9375rem;
  color: var(--ink);
  background: var(--paper);
  border: 1px solid var(--silver-200);
  border-radius: 8px;
  resize: vertical;
  min-height: 100px;
  transition: border-color 0.15s ease;
}

.decision-textarea:focus {
  outline: none;
  border-color: var(--ink);
}

.decision-transcript-display {
  font-family: var(--font-body);
  font-size: 0.75rem;
  color: var(--silver-500);
  font-style: italic;
  margin-top: var(--space-2);
  min-height: 1.5em;
}

.decision-save-btn {
  padding: var(--space-4);
  font-family: var(--font-body);
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--paper);
  background: var(--ink);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.decision-save-btn:hover {
  opacity: 0.9;
}

/* ============================================
   PHASE 4.2: Camera Bottom Sheet
   ============================================ */

.camera-sheet {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;
  pointer-events: none;
}

.camera-sheet.open {
  pointer-events: auto;
}

.camera-sheet-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.3);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.camera-sheet.open .camera-sheet-overlay {
  opacity: 1;
}

.camera-sheet-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-radius: 12px 12px 0 0;
  padding: 16px 20px 32px;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.camera-sheet.open .camera-sheet-content {
  transform: translateY(0);
}

.camera-sheet-content .drag-handle {
  width: 32px;
  height: 3px;
  background: #d1d5db;
  border-radius: 2px;
  margin: 0 auto 20px;
}

.camera-option {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 14px 0;
  background: none;
  border: none;
  border-bottom: 1px solid #f3f4f6;
  font-family: var(--font-sans);
  font-size: 0.875rem;
  font-weight: 400;
  letter-spacing: 0.01em;
  color: #111;
  text-align: left;
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.camera-option:last-of-type {
  border-bottom: none;
}

.camera-option:hover {
  background: none;
  opacity: 0.7;
}

.camera-option.cancel {
  margin-top: 12px;
  padding-top: 16px;
  border-top: 1px solid #e5e7eb;
  border-bottom: none;
  color: #6b7280;
  font-size: 0.8125rem;
  font-weight: 500;
  letter-spacing: 0.02em;
  text-align: center;
  justify-content: center;
}

.camera-option span {
  font-size: 1.125rem;
}

/* Phase 4.5.7: Image preview in notes capture */
.notes-image-preview {
  display: none; /* Hidden by default, flex when shown */
  padding: 0.75rem 1rem;
  background: var(--color-gray-50);
  border-bottom: 1px solid var(--color-gray-100);
  justify-content: flex-start !important;
}

/* Thumbnail wrapper - RELATIVE for absolute positioning of X */
.preview-thumb {
  position: relative;
  width: 64px;
  height: 64px;
  flex-shrink: 0;
}

/* The image */
.preview-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
}

/* X button - ABSOLUTE positioned on thumbnail corner */
.preview-thumb .preview-remove {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-black);
  color: var(--color-white);
  border: 2px solid var(--color-white);
  border-radius: 50%;
  font-size: 14px;
  font-weight: 500;
  line-height: 1;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  padding: 0;
  z-index: 1;
}

.preview-thumb .preview-remove:active {
  transform: scale(0.9);
  background: var(--color-gray-700);
}

/* Loading state */
.preview-thumb.loading {
  background: var(--color-gray-100);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
}

.preview-loading {
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-gray-300);
  border-top-color: var(--color-black);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* Error state */
.preview-thumb.error {
  background: var(--color-gray-100);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  color: var(--color-gray-400);
  font-size: 1.5rem;
}

/* Override any old conflicting styles */
.notes-image-preview > .remove-preview,
.notes-image-preview > button.remove-preview {
  display: none !important;
}

/* Legacy wrapper for backwards compat */
.preview-thumbnail-wrapper {
  position: relative;
  width: 64px;
  height: 64px;
  flex-shrink: 0;
}

.preview-thumbnail-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
}

.preview-thumbnail-wrapper .remove-preview {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-black);
  color: var(--color-white);
  border: 2px solid var(--color-white);
  border-radius: 50%;
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  padding: 0;
  z-index: 1;
}

/* Legacy preview-thumbnail for backwards compatibility */
.preview-thumbnail {
  position: relative;
  display: inline-block;
}

.preview-thumbnail img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 8px;
}

.preview-thumbnail .remove-image {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--color-black);
  color: white;
  border: none;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Phase 6.0.6: Processing overlay - Mobile-optimized full screen */
.processing-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.98);
  z-index: 99999; /* Above everything including modals */
  display: flex;
  align-items: center;
  justify-content: center;
  /* Prevent interaction with content behind */
  touch-action: none;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

.processing-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
  padding: 2rem;
}

/* Spinner - prominent and visible on mobile */
.processing-spinner {
  width: 48px;
  height: 48px;
  border: 3px solid var(--color-gray-100, #f0f0f0);
  border-top-color: var(--color-black, #000);
  border-radius: 50%;
  animation: processingSpinAnimation 0.9s linear infinite;
}

@keyframes processingSpinAnimation {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Phase 11.2: Editorial processing text - Cormorant Garamond italic */
.processing-text {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.25rem;
  font-weight: 400;
  font-style: italic;
  letter-spacing: 0.01em;
  color: var(--color-gray-700, #333);
  text-align: center;
  max-width: 240px;
}

/* Legacy animated line (for backwards compat) */
.processing-line {
  width: 60px;
  height: 2px;
  background: var(--color-black, #000);
  animation: lineExpand 1.2s ease-in-out infinite;
}

@keyframes lineExpand {
  0%, 100% {
    width: 40px;
    opacity: 0.4;
  }
  50% {
    width: 80px;
    opacity: 1;
  }
}

/* Legacy spin animation */
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Phase 4.5.6: Toast notification - refined */
/* Design guidelines: white bg, black reserved for buttons only */
.toast {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.65rem 1.25rem;
  background: white;
  color: #333;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  font-family: var(--font-sans);
  font-size: 0.75rem;
  font-weight: 400;
  letter-spacing: 0.1em;
  border-radius: 4px;
  z-index: 10000;
  animation: toastFade 0.25s ease;
}

@keyframes toastFade {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

/* ==========================================================================
   Phase 5.3.0: Beta UX Features
   ========================================================================== */

/* ==================== */
/* ONBOARDING           */
/* ==================== */

.onboarding-screen {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 24px;
  background: var(--color-white);
}

.onboarding-content {
  max-width: 300px;
  width: 100%;
  text-align: center;
}

.onboarding-content-wide {
  max-width: 400px;
}

.onboarding-title {
  font-family: var(--font-serif);
  font-size: 28px;
  font-weight: 600;
  line-height: 1.2;
  letter-spacing: -0.02em;
  color: var(--color-black);
  margin: 0 0 20px 0;
}

.onboarding-heading {
  font-family: var(--font-sans);
  font-size: 18px;
  font-weight: 500;
  color: var(--color-black);
  margin: 0 0 12px 0;
  text-align: left;
}

.onboarding-heading-spaced {
  margin-top: 28px;
}

.onboarding-description {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 1.6;
  color: var(--color-gray-500);
  margin: 0 0 32px 0;
}

.onboarding-optional {
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--color-gray-400);
  margin: 0 0 8px 0;
  text-align: left;
}

.onboarding-input {
  width: 100%;
  padding: 14px 16px;
  font-family: var(--font-sans);
  font-size: 16px;
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  background: var(--color-white);
  color: var(--color-black);
  box-sizing: border-box;
}

.onboarding-input:focus {
  outline: none;
  border-color: var(--color-black);
}

.onboarding-textarea {
  width: 100%;
  padding: 14px 16px;
  font-family: var(--font-sans);
  font-size: 15px;
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  background: var(--color-white);
  color: var(--color-black);
  resize: none;
  box-sizing: border-box;
}

.onboarding-textarea:focus {
  outline: none;
  border-color: var(--color-black);
}

.onboarding-note-input {
  width: 100%;
  padding: 16px;
  font-family: var(--font-sans);
  font-size: 16px;
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  background: var(--color-white);
  color: var(--color-black);
  resize: none;
  min-height: 120px;
  box-sizing: border-box;
}

.onboarding-note-input:focus {
  outline: none;
  border-color: var(--color-black);
}

.onboarding-hint {
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--color-gray-400);
  margin: 12px 0 24px 0;
}

.onboarding-btn {
  width: 100%;
  padding: 16px 24px;
  font-size: 15px;
  font-family: var(--font-sans);
  font-weight: 500;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.onboarding-btn:hover {
  opacity: 0.9;
}

.onboarding-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.onboarding-buttons {
  display: flex;
  gap: 12px;
  margin-top: 32px;
}

.onboarding-buttons .btn-secondary {
  flex: 1;
  padding: 14px 20px;
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 500;
  background: transparent;
  color: var(--color-black);
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  cursor: pointer;
}

.onboarding-buttons .btn-secondary:hover {
  background: var(--color-gray-50);
}

.onboarding-buttons .btn-primary {
  flex: 1;
  padding: 14px 20px;
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 500;
  background: var(--color-black);
  color: var(--color-white);
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.onboarding-buttons .btn-primary:hover {
  opacity: 0.9;
}

.onboarding-success-title {
  font-family: var(--font-serif);
  font-size: 32px;
  font-weight: 600;
  color: var(--color-black);
  margin: 0 0 12px 0;
  letter-spacing: 0.2em;
  text-transform: uppercase;
}

.onboarding-success-text {
  font-family: var(--font-sans);
  font-size: 17px;
  color: var(--color-gray-500);
  margin: 0;
}

/* Loading line animation - fills over 2 seconds */
.onboarding-loading-line {
  width: 40px;
  height: 2px;
  background: var(--color-gray-200);
  margin: 24px auto 0;
  position: relative;
  overflow: hidden;
  border-radius: 1px;
}

.onboarding-loading-line::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0%;
  background: var(--color-black);
  animation: onboarding-fill 2s ease-out forwards;
}

@keyframes onboarding-fill {
  to { width: 100%; }
}

/* Processing Screen - "Your Twin is learning..." */
.onboarding-processing {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: #FFFFFF;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.onboarding-processing-content {
  text-align: center;
}

.processing-dot {
  width: 8px;
  height: 8px;
  background: #000000;
  border-radius: 50%;
  margin: 0 auto 20px;
  animation: processing-pulse 1.5s ease-in-out infinite;
}

@keyframes processing-pulse {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

.processing-text {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.25rem;
  font-weight: 400;
  font-style: italic;
  color: #000000;
  margin: 0;
  letter-spacing: 0.01em;
}

.processing-checkmark {
  width: 32px;
  height: 32px;
  margin: 0 auto 16px;
  font-size: 24px;
  color: #000000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: checkmark-appear 0.3s ease-out;
}

@keyframes checkmark-appear {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

/* ==================== */
/* VALUE PRIORITIES     */
/* ==================== */

.onboarding-values .onboarding-content {
  max-width: 340px;
}

.onboarding-values-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 24px 0;
  text-align: left;
}

.onboarding-value-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--color-white);
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  cursor: grab;
  user-select: none;
  transition: all 0.15s ease;
  touch-action: none;
}

.onboarding-value-item:hover {
  border-color: var(--color-gray-300);
  background: var(--color-gray-50);
}

.onboarding-value-item:focus {
  outline: none;
  border-color: var(--color-black);
  box-shadow: 0 0 0 1px var(--color-black);
}

.onboarding-value-item.dragging {
  opacity: 0.5;
  cursor: grabbing;
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.onboarding-value-item.touching {
  background: var(--color-gray-100);
  border-color: var(--color-black);
  transform: scale(1.02);
}

.onboarding-value-handle {
  font-size: 14px;
  color: var(--color-gray-400);
  line-height: 1;
  cursor: grab;
}

.onboarding-value-rank {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-sans);
  font-size: 12px;
  font-weight: 600;
  color: var(--color-white);
  background: var(--color-black);
  border-radius: 50%;
  flex-shrink: 0;
}

.onboarding-value-label {
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--color-black);
  flex: 1;
}

.onboarding-values-footer {
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--color-gray-400);
  margin: 0 0 24px 0;
  text-align: center;
}

/* Touch device optimizations */
@media (hover: none) {
  .onboarding-value-item {
    padding: 16px 18px;
  }

  .onboarding-value-handle {
    font-size: 16px;
    padding: 4px;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .onboarding-value-item {
    transition: none;
  }

  .onboarding-value-item.dragging,
  .onboarding-value-item.touching {
    transform: none;
  }
}

/* ==================== */
/* EMPTY STATES         */
/* ==================== */

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 80px 24px;
  min-height: 300px;
}

.empty-state-title {
  font-family: var(--font-sans);
  font-size: 17px;
  font-weight: 500;
  color: var(--color-black);
  margin: 0 0 8px 0;
}

.empty-state-description {
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--color-gray-400);
  margin: 0 0 24px 0;
  max-width: 240px;
  line-height: 1.5;
}

.empty-state-btn {
  padding: 12px 24px;
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 500;
  background: transparent;
  color: var(--color-black);
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  cursor: pointer;
}

.empty-state-btn:hover {
  background: var(--color-gray-50);
}

/* ==================== */
/* TOAST MESSAGES (v5.3.0) */
/* ==================== */

.toast-v2 {
  position: fixed;
  bottom: 100px;
  left: 16px;
  right: 16px;
  padding: 16px 20px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 10000;
}

.toast-v2.toast-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Design guidelines: white bg, black reserved for buttons only */
.toast-v2.toast-error {
  background: white;
  color: #333;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.toast-v2.toast-success {
  background: white;
  color: #333;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.toast-v2 .toast-message {
  margin: 0;
  font-family: var(--font-sans);
  font-size: 14px;
  line-height: 1.4;
  flex: 1;
}

.toast-v2 .toast-btn {
  background: transparent;
  border: 1px solid #333;
  color: #333;
  padding: 8px 16px;
  border-radius: 4px;
  font-family: var(--font-sans);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap;
}

.toast-v2 .toast-btn:hover {
  background: rgba(0, 0, 0, 0.05);
}

/* ==================== */
/* SETTINGS PAGE        */
/* ==================== */

.settings-page {
  min-height: 100vh;
  background: var(--color-white);
}

.settings-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px;
  border-bottom: 1px solid var(--color-gray-100);
  position: sticky;
  top: 0;
  background: var(--color-white);
  z-index: 10;
}

.settings-back-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  background: none;
  border: none;
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--color-black);
  cursor: pointer;
  padding: 8px 12px;
  margin: -8px -12px;
}

.settings-back-arrow {
  font-size: 18px;
}

.settings-title {
  font-family: var(--font-sans);
  font-size: 17px;
  font-weight: 600;
  margin: 0;
  color: var(--color-black);
}

.settings-header-spacer {
  width: 60px;
}

.settings-content {
  padding: 24px 16px;
}

.settings-section {
  margin-bottom: 36px;
}

.settings-section-title {
  font-family: var(--font-sans);
  font-size: 12px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-gray-400);
  margin: 0 0 12px 0;
}

.settings-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 0;
  border-bottom: 1px solid var(--color-gray-100);
}

.settings-item-label {
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--color-black);
}

.settings-item-value {
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--color-gray-500);
}

.settings-btn {
  width: 100%;
  padding: 14px 20px;
  margin-top: 12px;
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 500;
  border-radius: 8px;
  cursor: pointer;
}

.settings-btn:first-of-type {
  margin-top: 0;
}

.settings-btn.btn-secondary {
  background: transparent;
  color: var(--color-black);
  border: 1px solid var(--color-gray-200);
}

.settings-btn.btn-secondary:hover {
  background: var(--color-gray-50);
}

.settings-btn.btn-primary {
  background: var(--color-black);
  color: var(--color-white);
  border: none;
}

.settings-btn.btn-primary:hover {
  opacity: 0.9;
}

.settings-btn.btn-danger {
  background: transparent;
  color: #EF4444;
  border: 1px solid #EF4444;
}

.settings-btn.btn-danger:hover {
  background: rgba(239, 68, 68, 0.05);
}

.settings-warning {
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--color-gray-400);
  margin: 12px 0 0 0;
  text-align: center;
}

.settings-tagline {
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--color-gray-400);
  text-align: center;
  margin: 16px 0 0 0;
}

.settings-sync-status {
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--color-gray-500);
  text-align: center;
  padding: 12px;
  background: var(--color-gray-50);
  border-radius: 8px;
  margin-top: 12px;
}

.settings-pin-input {
  width: 100%;
  padding: 14px 16px;
  font-family: var(--font-sans);
  font-size: 18px;
  text-align: center;
  letter-spacing: 8px;
  border: 1px solid var(--color-gray-200);
  border-radius: 8px;
  background: var(--color-white);
  color: var(--color-black);
  box-sizing: border-box;
}

.settings-pin-input:focus {
  outline: none;
  border-color: var(--color-black);
}

/* ==========================================================================
   PHASE 9.1 - Editorial Design System Refinements
   "Vogue minimalist editorial" — like a high-end magazine
   ========================================================================== */

/* -------------------------------------------------------------------------
   Design Tokens - Editorial Color Palette
   ------------------------------------------------------------------------- */
:root {
  /* Ink — Text and UI (editorial blacks) */
  --ink-900: #0d0d0d;
  --ink-800: #1a1a1a;
  --ink-600: #4a4a4a;
  --ink-400: #8a8a8a;
  --ink-300: #a0a0a0;
  --ink-200: #c4c4c4;
  --ink-100: #e8e8e8;
  --ink-50: #f5f5f5;

  /* Paper — Backgrounds */
  --paper: #fafafa;
  --paper-warm: #faf9f7;
  --paper-pure: #ffffff;

  /* Category colors (muted) */
  --category-work: rgba(212, 196, 168, 0.3);
  --category-personal: rgba(196, 212, 216, 0.3);
  --category-ideas: rgba(216, 212, 196, 0.3);

  /* Spacing scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;
  --space-8: 3rem;

  /* Animation */
  --ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
}

/* -------------------------------------------------------------------------
   A1: Mobile Viewport Fix - Onboarding Screens
   ------------------------------------------------------------------------- */
.onboarding-screen {
  min-height: 100vh;
  min-height: 100dvh; /* iOS Safari dynamic viewport */
  display: flex;
  flex-direction: column;
  padding: var(--space-6) var(--space-5) var(--space-8);
  padding-bottom: calc(var(--space-8) + env(safe-area-inset-bottom));
  background: var(--paper-pure);
  box-sizing: border-box;
}

.onboarding-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-5);
  flex-shrink: 0;
}

.onboarding-back {
  font: 400 0.875rem/1.4 var(--font-sans);
  color: var(--ink-600);
  background: none;
  border: none;
  padding: var(--space-2) 0;
  cursor: pointer;
  transition: color var(--duration-fast) ease;
}

.onboarding-back:hover {
  color: var(--ink-900);
}

.onboarding-progress {
  font: 500 0.6875rem/1.4 var(--font-sans);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--ink-400);
}

.onboarding-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  max-width: 480px;
  margin: 0 auto;
  width: 100%;
}

.onboarding-footer {
  padding-top: var(--space-6);
  flex-shrink: 0;
  max-width: 480px;
  margin: 0 auto;
  width: 100%;
}

/* -------------------------------------------------------------------------
   B1: Welcome Screen - Editorial Typography
   ------------------------------------------------------------------------- */
.onboarding-welcome {
  text-align: center;
  justify-content: center;
}

.onboarding-welcome__title {
  font: 600 2.75rem/1.1 var(--font-serif);
  color: var(--ink-900);
  margin: 0 0 var(--space-3) 0;
  opacity: 0;
  animation: fadeInUp 0.6s var(--ease-out) forwards;
}

.onboarding-welcome__subtitle {
  font: 400 1rem/1.5 var(--font-sans);
  color: var(--ink-400);
  letter-spacing: 0.02em;
  margin: 0;
  opacity: 0;
  animation: fadeInUp 0.6s var(--ease-out) 0.15s forwards;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Stagger animations */
.animate-in { opacity: 0; animation: fadeInUp 0.5s var(--ease-out) forwards; }
.stagger-1 { animation-delay: 0s; }
.stagger-2 { animation-delay: 0.15s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.45s; }

/* -------------------------------------------------------------------------
   B2: Name Screen - Elegant Input
   ------------------------------------------------------------------------- */
.label-new {
  font: 500 0.6875rem/1.4 var(--font-sans);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--ink-400);
  display: block;
  margin-bottom: var(--space-3);
}

.input-new {
  font: 400 1.25rem/1.4 var(--font-sans);
  color: var(--ink-800);
  border: none;
  border-bottom: 1px solid var(--ink-200);
  padding: var(--space-3) 0;
  background: transparent;
  width: 100%;
  transition: border-color var(--duration-normal) ease;
  border-radius: 0;
  -webkit-appearance: none;
}

.input-new:focus {
  outline: none;
  border-bottom-color: var(--ink-800);
}

.input-new::placeholder {
  color: var(--ink-300);
  font-style: italic;
}

.field-group {
  margin-bottom: var(--space-5);
}

/* -------------------------------------------------------------------------
   Primary Button - Editorial Style
   ------------------------------------------------------------------------- */
.btn-primary-new {
  font: 500 0.6875rem/1.4 var(--font-sans);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  background: var(--ink-900);
  color: var(--paper-pure);
  padding: var(--space-4) var(--space-5);
  border: none;
  border-radius: 0;
  cursor: pointer;
  transition: opacity var(--duration-normal) ease;
  -webkit-appearance: none;
}

.btn-primary-new:hover {
  opacity: 0.85;
}

.btn-primary-new:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.btn-full {
  width: 100%;
  display: block;
}

/* -------------------------------------------------------------------------
   B3: Role Screen - Multi-select Option Cards
   ------------------------------------------------------------------------- */
.role-options {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.option-card {
  border: 1px solid var(--ink-200);
  border-left-width: 4px;
  border-left-color: transparent;
  padding: var(--space-4) var(--space-5);
  cursor: pointer;
  /* Phase 9.2: Faster transitions for instant feel */
  transition: border-color 0.1s ease, background-color 0.1s ease;
  background: transparent;
  text-align: left;
}

.option-card:hover {
  background: var(--ink-50);
  border-left-color: var(--ink-300);
}

/* Phase 9.2: Inverted selection state - black background, white text */
.option-card--selected {
  background: var(--ink-900) !important;
  border-color: var(--ink-900) !important;
  border-left-width: 4px;
}

.option-card--selected .option-card__title {
  color: var(--paper-pure);
  font-weight: 600;
}

.option-card--selected .option-card__subtitle {
  color: rgba(255, 255, 255, 0.7);
}

.option-card__title {
  font: 500 1.125rem/1.3 var(--font-serif);
  color: var(--ink-900);
  margin-bottom: var(--space-1);
}

.option-card__subtitle {
  font: 400 0.8125rem/1.4 var(--font-sans);
  color: var(--ink-400);
}

/* -------------------------------------------------------------------------
   B4: Goals Screen - Selection Pills
   ------------------------------------------------------------------------- */
.goal-grid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.goal-pill {
  font: 400 0.875rem/1.4 var(--font-sans);
  color: var(--ink-600);
  background: transparent;
  border: 1px solid var(--ink-200);
  padding: var(--space-3) var(--space-4);
  cursor: pointer;
  /* Phase 9.2: Instant transitions */
  transition: background-color 0.1s ease, border-color 0.1s ease, color 0.1s ease;
  border-radius: 0;
}

.goal-pill:hover {
  background: var(--ink-50);
  border-color: var(--ink-400);
}

/* Phase 9.2: More prominent selected state */
.goal-pill--selected {
  background: var(--ink-900) !important;
  color: var(--paper-pure) !important;
  border-color: var(--ink-900) !important;
  font-weight: 500;
}

.onboarding-error {
  font: 400 0.8125rem/1.4 var(--font-sans);
  color: #8b2d2d;
  margin-top: var(--space-3);
}

/* Helper classes */
.text-caption {
  font: 400 0.8125rem/1.4 var(--font-sans);
}

.text-muted {
  color: var(--ink-400);
}

.mb-4 {
  margin-bottom: var(--space-4);
}

/* -------------------------------------------------------------------------
   C1-C5: Twin Tab - Card-based Editorial Layout
   ------------------------------------------------------------------------- */
.twin-tab-content {
  max-width: 600px;
  margin: 0 auto;
  padding: var(--space-6) var(--space-4);
  padding-bottom: 120px;
}

.twin-header-editorial {
  text-align: center;
  margin-bottom: var(--space-8);
}

.twin-header-editorial__title {
  font: 600 2rem/1.2 var(--font-serif);
  color: var(--ink-900);
  margin: 0 0 var(--space-2) 0;
}

.twin-header-editorial__subtitle {
  font: 400 0.875rem/1.4 var(--font-sans);
  color: var(--ink-400);
  margin: 0;
}

/* Twin Cards */
.twin-card {
  background: var(--paper-pure);
  border: 1px solid var(--ink-100);
  margin-bottom: var(--space-5);
  padding: var(--space-5);
}

.twin-card__header {
  font: 500 0.6875rem/1.4 var(--font-sans);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--ink-400);
  margin-bottom: var(--space-4);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--ink-100);
}

.twin-card__content {
  /* Content container */
}

/* Profile Fields */
.profile-field {
  margin-bottom: var(--space-4);
}

.profile-field:last-child {
  margin-bottom: 0;
}

.profile-field__label {
  font: 500 0.6875rem/1.4 var(--font-sans);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--ink-400);
  margin-bottom: var(--space-1);
}

.profile-field__row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: var(--space-3);
}

.profile-field__value {
  font: 400 1rem/1.5 var(--font-sans);
  color: var(--ink-800);
  flex: 1;
}

.profile-field__value--empty {
  color: var(--ink-400);
  font-style: italic;
}

.profile-field__edit {
  font: 400 0.75rem/1 var(--font-sans);
  color: var(--ink-400);
  background: none;
  border: none;
  text-decoration: underline;
  text-underline-offset: 2px;
  cursor: pointer;
  padding: 0;
  flex-shrink: 0;
}

.profile-field__edit:hover {
  color: var(--ink-600);
}

/* C4: Stats Display */
.stats-row {
  display: flex;
  gap: var(--space-6);
  margin-bottom: var(--space-4);
}

.stat-editorial {
  text-align: center;
}

.stat-editorial__value {
  font: 500 1.75rem/1.2 var(--font-serif);
  color: var(--ink-900);
  display: block;
}

.stat-editorial__label {
  font: 400 0.75rem/1.4 var(--font-sans);
  color: var(--ink-400);
  text-transform: lowercase;
}

.category-breakdown {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.category-tag {
  font: 400 0.75rem/1.4 var(--font-sans);
  color: var(--ink-600);
  padding: var(--space-1) var(--space-2);
  border-radius: 2px;
}

.category-tag--work { background: var(--category-work); }
.category-tag--personal { background: var(--category-personal); }
.category-tag--ideas { background: var(--category-ideas); }

/* C5: Confidence Display */
.confidence-display {
  padding: var(--space-4) 0;
}

.confidence-display__row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: var(--space-2);
}

.confidence-display__label {
  font: 500 0.8125rem/1.4 var(--font-sans);
  color: var(--ink-600);
}

.confidence-display__value {
  font: 500 1.25rem/1.2 var(--font-serif);
  color: var(--ink-900);
}

.confidence-display__bar {
  height: 4px;
  background: var(--ink-100);
  margin-bottom: var(--space-2);
}

.confidence-display__fill {
  height: 100%;
  background: var(--ink-900);
  transition: width 0.3s ease;
}

.confidence-display__text {
  font: 400 0.8125rem/1.4 var(--font-sans);
  color: var(--ink-400);
  font-style: italic;
  margin: 0;
}

/* Empty states */
.twin-empty-editorial {
  font: 400 0.875rem/1.5 var(--font-sans);
  color: var(--ink-400);
  font-style: italic;
  margin: 0;
}

/* -------------------------------------------------------------------------
   D: Feedback Toast
   ------------------------------------------------------------------------- */
.feedback-toast {
  position: fixed;
  bottom: calc(80px + env(safe-area-inset-bottom));
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: var(--ink-900);
  color: var(--paper-pure);
  font: 400 0.8125rem/1.4 var(--font-sans);
  padding: var(--space-3) var(--space-5);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 1000;
  white-space: nowrap;
}

.feedback-toast--visible {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0);
}

/* -------------------------------------------------------------------------
   E: Modal Refinement
   ------------------------------------------------------------------------- */
.modal-overlay-new {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-4);
}

.modal-new {
  background: var(--paper-pure);
  width: 100%;
  max-width: 400px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.modal-new__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-5);
}

.modal-new__title {
  font: 500 0.6875rem/1.4 var(--font-sans);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--ink-400);
  margin: 0;
}

.modal-new__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  color: var(--ink-300);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
}

.modal-new__close:hover {
  color: var(--ink-600);
}

.modal-new__body {
  padding: 0 var(--space-5) var(--space-5);
}

.modal-new__footer {
  padding: var(--space-4) var(--space-5) var(--space-5);
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
}

/* Modal input styling */
.modal-input {
  font: 400 1rem/1.4 var(--font-sans);
  color: var(--ink-800);
  border: 1px solid var(--ink-200);
  padding: var(--space-3) var(--space-4);
  background: transparent;
  width: 100%;
  transition: border-color var(--duration-normal) ease;
  border-radius: 0;
  -webkit-appearance: none;
  box-sizing: border-box;
}

.modal-input:focus {
  outline: none;
  border-color: var(--ink-800);
}

/* -------------------------------------------------------------------------
   A2: First Note Prompt Screen
   ------------------------------------------------------------------------- */
.first-note-screen {
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: var(--space-6) var(--space-5);
  padding-bottom: calc(var(--space-8) + env(safe-area-inset-bottom));
  background: var(--paper-pure);
  max-width: 480px;
  margin: 0 auto;
}

.first-note__prompt {
  font: 500 1.5rem/1.3 var(--font-serif);
  color: var(--ink-900);
  margin: 0 0 var(--space-2) 0;
  text-align: center;
}

.first-note__subtext {
  font: 400 0.875rem/1.5 var(--font-sans);
  color: var(--ink-400);
  margin: 0 0 var(--space-6) 0;
  text-align: center;
}

.first-note__input {
  font: 400 1rem/1.5 var(--font-sans);
  color: var(--ink-800);
  border: 1px solid var(--ink-200);
  padding: var(--space-4);
  background: transparent;
  width: 100%;
  min-height: 120px;
  resize: none;
  margin-bottom: var(--space-5);
  box-sizing: border-box;
  border-radius: 0;
  -webkit-appearance: none;
}

.first-note__input:focus {
  outline: none;
  border-color: var(--ink-800);
}

.first-note__input::placeholder {
  color: var(--ink-300);
  font-style: italic;
}

/* -------------------------------------------------------------------------
   Processing Spinner (for onboarding)
   ------------------------------------------------------------------------- */
@keyframes processingSpinAnimation {
  to { transform: rotate(360deg); }
}
